<meta name="referrer" content="no-referrer"/>
> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s?__biz=MzkwODM3NjIxOQ==&mid=2247491550&idx=2&sn=d1393947ab7f686ba54cc36d982508a8&chksm=c0cbbe2af7bc373cb21390f85e61aad9adcbcf3fec71001ec764a70e8dcf71ed04957860d2fd&scene=21#wechat_redirect)

> ❝
> 
> 作者：夏小芸， “**蓝初百题斩**” 连载，今天带来第 2 期内容：

* * *

中间件基线规范（APACHE）
---------------

Apache 是一款常用的 Web 服务器软件，为了保障其安全可靠地运行，可以制定中间件基线规范。以下是 Apache 中间件基线规范的一些重要措施：

1.  版本号管理：定期检查并更新 Apache 版本，及时安装最新版本的补丁与安全更新。
    
2.  配置文件规范：对 Apache 的配置文件进行规范化和审计，限制网站访问权限、禁止目录浏览等。
    
3.  日志管理：启用 Apache 访问日志和错误日志，定期清理日志文件并做好备份、归档等工作。
    
4.  安全加固：如禁用不必要的模块、关闭 TRACE 请求响应、限制 HTTP 方法等。
    
5.  SSL/TLS 加强：设置 TLS 选项、开启 HSTS、使用证书身份验证等。
    
6.  防火墙和反向代理策略：通过防火墙等技术来过滤恶意流量，使用反向代理策略限制直接连接到 Web 服务器的 IP 地址。
    
7.  应用安全：对 Web 应用程序进行安全审计，确保程序的漏洞被修复、未受到攻击等。
    

需要注意的是，以上这些措施只是 Apache 中间件基线规范的一部分，实际操作中还需要根据具体情况进行评估和调整。同时，要保障 Apache 服务器的安全性和可靠性，还需要定期备份数据、优化性能等工作。

* * *

中间件常见漏洞
-------

中间件是指应用程序和操作系统之间的软件组件，常见的中间件漏洞有以下几种：

1.  Web 服务器漏洞：针对 Web 服务器（如 Apache、Nginx）的攻击通常包括利用目录遍历、文件包含、SQL 注入等技术。
    
2.  数据库漏洞：数据库（如 MySQL、Oracle、SQL Server）的漏洞通常涉及未授权的访问、SQL 注入等方面。
    
3.  应用服务器漏洞：应用服务器（如 Tomcat、JBoss、WebLogic）的漏洞通常会导致远程执行代码、拒绝服务等问题。
    
4.  消息队列漏洞：消息队列（如 RabbitMQ、Kafka）的漏洞通常涉及未授权访问、拒绝服务等问题。
    
5.  缓存服务器漏洞：缓存服务器（如 Redis、Memcached）的漏洞通常包括未授权访问、命令注入等问题。
    
6.  中间件配置问题：中间件的错误配置也可能导致安全问题，比如弱密码、不安全的协议配置等。
    

需要注意的是，中间件漏洞是日益增多的，因此建议及时更新和修补中间件的安全漏洞。

* * *

常见中间件的配置文件路径知道哪些？
-----------------

不同的中间件软件有不同的配置文件路径。以下是几种常见中间件软件的配置文件路径：

1.  Apache Web 服务器：httpd.conf 文件通常位于 /etc/httpd/ 或者 /usr/local/apache2/conf/ 目录下。
    
2.  Nginx Web 服务器：nginx.conf 文件通常位于 /etc/nginx/ 或者 /usr/local/nginx/conf/ 目录下。
    
3.  MySQL 数据库：my.cnf 文件通常位于 /etc/mysql/ 或者 /usr/local/mysql/etc/ 目录下。
    
4.  PostgreSQL 数据库：postgresql.conf 和 pg_hba.conf 文件通常位于 /var/lib/pgsql/data/ 或者 /etc/postgresql//main/ 目录下。
    
5.  Oracle 数据库：initSID.ora 和 listener.ora 文件通常位于 $ORACLE_HOME/dbs/ 目录下。
    
6.  Tomcat 应用服务器：server.xml、context.xml 和 web.xml 文件通常位于 /conf/ 目录下。
    
7.  JBoss 应用服务器：standalone.xml 和 standalone-full.xml 文件通常位于 /standalone/configuration/ 目录下。
    

需要注意的是，这些路径可能会根据不同的操作系统而有所不同，并且也会随着中间件版本的更新而变化。因此，在进行中间件配置时，建议查询官方文档或参考相关文献以获取最新的配置文件路径信息。

* * *

常用的安全工具以及常见的设备有哪些？
------------------

常用的安全工具和设备有很多，以下是其中一些常见的：

1.  防火墙（Firewall）：防火墙可以过滤网络流量，保护网络不受外部攻击。常见的防火墙包括硬件防火墙和软件防火墙。
    
2.  入侵检测系统（Intrusion Detection System, IDS）：IDS 可以监控网络流量、检测恶意行为和入侵事件，并向管理员发出警报。
    
3.  入侵防御系统（Intrusion Prevention System, IPS）：IPS 可以在 IDS 的基础上主动预防入侵事件，并进行自动化响应。
    
4.  统一威胁管理平台（Unified Threat Management, UTM）：UTM 是一种集成了防火墙、IDS/IPS、VPN、反病毒等多种功能的综合性安全解决方案。
    
5.  脆弱性扫描器（Vulnerability Scanner）：脆弱性扫描器可以发现系统中可能存在的漏洞，并提供修补建议。
    
6.  安全信息和事件管理系统（Security Information and Event Management, SIEM）：SIEM 可以对安全事件和日志数据进行收集、分析和报告，帮助管理员更好地了解和响应安全事件。
    
7.  代理服务器（Proxy Server）：代理服务器可以过滤流量、检查内容和访问控制，提供额外的安全保护。
    
8.  负载均衡器（Load Balancer）：负载均衡器可以平衡网络流量，分担服务器负载，提高网络性能和可用性。
    
9.  加密设备：加密设备可以对数据进行加密处理，防止数据被窃取或篡改。
    

需要注意的是，以上只是其中一些常见的安全工具和设备，实际应用中还有很多其他的安全工具和设备。在选择和使用安全工具和设备时，需要根据具体情况进行评估和选择，并确保其符合实际需求和安全标准。

* * *

你知道的威胁情报库有哪些？
-------------

1.  微步在线（ThreatBook）：微步在线是国内领先的网络安全威胁情报服务提供商，其威胁情报库包括恶意软件、攻击源 IP、域名等方面的信息。
    
2.  国家互联网应急中心（CNCERT）：CNCERT 是中国政府统一组织和协调全国互联网安全工作的部门，其威胁情报库包括漏洞、恶意代码、攻击事件等方面的信息。
    
3.  安恒威胁情报中心（ATIS）：ATIS 是安恒信息安全研究院旗下的威胁情报中心，其威胁情报库涵盖了 APT 攻击、Web 攻击、恶意邮件、移动恶意软件等方面的信息。
    
4.  漏洞盒子（KnownSec）：漏洞盒子是一家致力于网络安全防御和攻防技术研究的公司，其威胁情报库包括漏洞、恶意代码等方面的信息。
    
5.  360 威胁情报中心（360 TI Center）：360 威胁情报中心聚焦于威胁情报、安全事件响应和恶意代码研究等领域，其威胁情报库包括 APT 攻击、恶意 URL 等方面的信息。
    

需要注意的是，以上威胁情报库只是其中一部分，实际应用中还有很多其他的威胁情报库。在使用威胁情报库时，需要根据具体需求进行评估和选择，并确保数据来源可靠、及时和准确。

* * *

怎么发现有没有被攻击？
-----------

发现自己是否被攻击是网络安全管理中非常重要的一环。以下是几种常见的发现被攻击的方法：

1.  安全日志监控：对系统和应用程序的安全日志进行监控，可以及时发现异常活动和安全事件。例如，登录失败、异常访问、恶意软件入侵等。
    
2.  网络流量分析：通过对网络流量进行监控和分析，可以发现可能存在的攻击行为。例如，大量来自某个 IP 地址或特定端口的流量、恶意脚本和代码注入等。
    
3.  主机基线监测：通过对应用程序、操作系统和数据文件等资源进行基线监测，可以及时发现可能存在的异常变化和不正常的活动。
    
4.  脆弱性扫描：通过使用脆弱性扫描工具，可以发现系统中可能存在的漏洞，并提供修补建议。
    
5.  威胁情报监测：通过使用威胁情报库和服务，可以了解到当前存在的威胁活动，及时采取防御措施。
    
6.  安全演练：通过进行安全演练，可以模拟真实的攻击场景，评估自身的安全状态，及时发现和修复存在的问题。
    

需要注意的是，以上方法只是其中一部分，实际应用中还有很多其他的发现被攻击的方法。在进行网络安全管理时，需要综合使用多种方法，并不断更新和完善自身的防御措施，以提高安全水平和减少被攻击的风险。

* * *

SQL 注入如何进行检测
------------

1.  数据库异常日志：在数据库服务器上查看异常日志或错误日志，如果发现异常 SQL 语句，或者 SQL 语句中包含可疑代码或关键字，就可能存在 SQL 注入攻击。
    
2.  应用服务器日志：在应用服务器上查看访问日志或错误日志，如果发现访问异常、错误码增多，或者包含可疑的 URL 参数等信息，也可能表明存在 SQL 注入攻击。
    
3.  漏洞扫描工具：使用专业的漏洞扫描工具，可以自动化地检测应用程序中可能存在的 SQL 注入漏洞，并提供修补建议。
    
4.  安全审计：通过记录用户行为和操作日志，可以检测和追踪可能存在的 SQL 注入攻击。
    
5.  手动测试：模拟攻击者的行为，手动输入特定的 SQL 语句或注入代码，来验证是否存在 SQL 注入漏洞。
    

需要注意的是，以上方法只是其中一部分，实际应用中还有很多其他的 SQL 注入检测方法。在进行 SQL 注入检测时，需要综合使用多种方法，并不断更新和完善自身的防御措施，以提高安全水平和减少被攻击的风险。同时，如果确实发现了 SQL 注入攻击，应及时采取措施来修复漏洞并保护数据库中的数据。

* * *

Sql 注入加固措施？
-----------

为了防止 SQL 注入攻击，可以采取以下一些常见的加固措施：

1.  输入验证：对用户输入数据进行验证和过滤，特别是对单引号、双引号、分号等特殊字符进行处理。可以使用输入过滤函数或正则表达式等方式来实现。
    
2.  参数化查询：使用参数化查询操作数据库，可以将用户输入的数据视为参数而不是 SQL 代码的一部分，从而避免 SQL 注入攻击。
    
3.  最小化权限原则：在应用程序连接数据库时，给予最小必要的权限，并严格控制数据库访问权限，以减少攻击者利用 SQL 注入漏洞获取敏感信息的可能性。
    
4.  安全编码标准：在开发应用程序时，遵循安全编码标准，避免使用拼接 SQL 语句的方式，而是采用参数化查询等安全方式来操作数据库。
    
5.  异常信息处理：在应用程序中添加异常处理机制，可以及时捕获和记录 SQL 注入攻击产生的异常信息，便于管理员及时发现和修复问题。
    
6.  安全审计：通过记录用户行为和操作日志，可以检测和追踪可能存在的 SQL 注入攻击。
    

需要注意的是，以上只是其中一部分常见的 SQL 注入加固措施，针对不同的应用和场景，可能需要采用不同的加固措施。在进行 SQL 注入防御时，需要综合考虑多种因素，并不断更新和完善自身的防御措施，以提高安全水平并减少被攻击的风险。

* * *

文件上传和命令执行，有看过相关日志吗？
-------------------

文件上传和命令执行都是常见的 Web 应用程序安全漏洞，攻击者利用漏洞上传恶意文件或执行恶意代码，从而获取服务器上的敏感数据或控制服务器。在进行安全管理时，通常可以通过查看相关日志来发现潜在的安全威胁。

对于文件上传漏洞，以下是一些可能存在的相关日志：

1.  文件上传日志：Web 服务器或应用服务器上的访问日志中可能包含上传文件的信息，例如上传时间、上传文件名称、上传文件大小等。
    
2.  访问控制日志：如果应用程序实现了文件上传的访问控制机制，记录访问控制的日志可能包含了上传文件的信息，例如上传人员、上传时间、上传 IP 地址等。
    
3.  安全审计日志：如果使用了安全审计工具，可以记录文件上传操作的详细信息，例如上传文件的路径、上传文件的内容等。
    

对于命令执行漏洞，以下是一些可能存在的相关日志：

1.  访问日志：Web 服务器或应用服务器上的访问日志中可能包含恶意代码执行的信息，例如请求 URL、HTTP 请求方法、HTTP 状态码等。
    
2.  异常日志：应用程序中的异常日志可以记录可能存在的恶意代码执行异常信息，例如异常类型、异常堆栈等。
    
3.  安全审计日志：如果使用了安全审计工具，可以记录恶意代码执行的详细信息，例如恶意代码的来源、执行时间、执行结果等。
    

需要注意的是，以上只是其中一部分可能存在的相关日志，实际应用中还有更多可能的日志类型。在进行文件上传和命令执行漏洞的检测和防御时，需要根据具体应用进行评估和选择，并及时发现和修复潜在的安全威胁。

* * *

你能说明文件上传的原理吗？
-------------

当用户上传文件时，通常需要通过 HTTP 或 HTTPS 协议将文件传输到 Web 服务器。文件上传的原理可以简单地描述为：

1.  客户端向服务器发送一个包含文件数据的 POST 请求。
    
2.  服务器接收请求并解析其中的文件数据。
    
3.  服务器将文件保存在指定的目录下，并返回处理结果给客户端。
    

具体来说，文件上传流程一般如下：

1.  用户在 Web 页面上选择要上传的文件，并提交表单。
    
2.  浏览器将表单中的数据进行编码并作为 POST 请求发送给 Web 服务器。
    
3.  Web 服务器接收到请求后，会解析请求参数，获取上传的文件数据。
    
4.  服务器对上传的文件进行校验和过滤，例如检查文件格式、大小、类型等，防止上传恶意文件。
    
5.  如果上传的文件符合要求，则将文件存储在指定的位置，如果不符合要求，则拒绝上传并返回错误信息。
    
6.  服务器返回上传结果给客户端，告知用户文件是否上传成功。
    

需要注意的是，文件上传涉及到的安全问题较多，例如上传的文件可能会包含病毒、木马等恶意程序，攻击者可能会利用上传漏洞上传恶意文件，从而导致服务器被控制。因此，在进行文件上传功能开发时，需要仔细考虑安全问题，并采取相应的防御措施，例如限制上传文件大小、过滤不安全的文件类型等。

* * *

文件上传攻击特征？
---------

文件上传攻击是指攻击者通过网站上的文件上传功能，上传恶意文件来执行攻击。以下是一些文件上传攻击的特征：

1.  文件类型绕过：攻击者可能会尝试上传不受支持的文件类型，或者将文件类型伪装成其他类型，以绕过文件类型检查。
    
2.  文件名欺骗：攻击者可能会使用诱人的文件名称来欺骗用户下载或打开恶意文件。
    
3.  文件内容：上传的文件可能包含恶意代码、木马、病毒等恶意程序，这些程序可被用于攻击和控制目标系统。
    
4.  大小限制绕过：攻击者可能会尝试绕过文件大小的限制，上传超过规定大小的文件。
    
5.  目录遍历：攻击者可能会通过在文件名中插入../ 等字符来遍历目标服务器上的目录，获取敏感信息或执行攻击。
    

如果您担心自己的网站可能会受到文件上传攻击，请确保实施足够的安全措施，如限制上传文件类型、大小和数量、对上传的文件进行检查、将上传的文件保存在安全的位置，并为所有上传的文件生成一个唯一的文件名。

文件上传加固方法？
---------

以下是保护您的网站免受文件上传攻击的一些方法：

1.  文件类型和大小限制：在服务器端对上传的文件进行检查，确保上传的文件类型、大小和数量符合预期。可以使用白名单方式进行限制，只允许上传特定类型的文件。
    
2.  检查文件内容：在服务器端对上传的文件进行检查，确保它们不包含恶意代码或病毒等危险内容。可以使用杀毒软件或安全扫描工具来帮助检查上传的文件。
    
3.  重命名文件：将上传的文件保存在一个新的随机生成的文件名下，而不是使用用户提供的文件名。这样可以避免攻击者通过伪造文件名来欺骗用户。
    
4.  存储位置：将上传的文件保存在与网站主目录分离的位置上，以避免攻击者上传 Webshell 等恶意脚本，并能够防止攻击者直接访问上传的文件。
    
5.  使用安全上传类库：使用安全的上传类库或框架，如 Apache Commons FileUpload、SecureFileUploader 等。
    
6.  HTTPS 加密：在传输过程中使用 HTTPS 协议加密，以避免数据在传输过程中被窃听或篡改。
    
7.  日志审计：记录所有的文件上传操作并定期审计日志，以便发现异常上传行为，及时采取措施。
    

总之，防止文件上传攻击需要综合考虑多种因素，包括文件类型、大小、内容、存储位置、传输方式等，同时定期进行安全审计，并且对于应用程序代码的编写需要充分考虑安全因素。

暴力破解加固方法？
---------

以下是一些保护您的网站免受暴力破解攻击的方法：

1.  密码策略：实施强密码策略，建议用户使用包含大写字母、小写字母、数字和特殊字符等不同类型字符组成的复杂密码，并设置密码长度要求。
    
2.  账户锁定：限制密码尝试次数，并在多次失败后自动锁定账户。同时，应该通过邮件或短信通知用户他们的账户已被锁定，以防止攻击者对其进行进一步攻击。
    
3.  人机验证：在登录页面引入验证码或其他形式的人机验证，以防止自动化破解程序的攻击。
    
4.  访问控制：实施访问控制策略，限制只有授权用户才能够访问敏感信息或功能。而且还应该限制来自未知来源或具有恶意行为的 IP 地址的访问。
    
5.  强制退出：如果用户长时间没有活动，应强制退出登录状态，以防止攻击者通过利用未注销的会话进行攻击。
    
6.  检测异常行为：检测异常登录行为，如从异常地区或设备登录，或频繁更改登录 IP 地址等。
    
7.  安全日志审计：监控并记录登录事件，并对日志进行审计和分析，以便及时发现异常行为并采取措施。
    

总之，在防止暴力破解攻击方面，需要综合考虑多种因素，包括密码策略、账户锁定、人机验证、访问控制、强制退出、检测异常行为等。同时，应保持应用程序的更新，及时修补安全漏洞，以确保系统的完整性和安全性。

**Taps:**

  

  

**下载地址：回复 “** **蓝初百题斩****” 获取下载链接**

  

**免责声明：**本公众号所发布的文章及工具只限交流学习，本公众号不承担任何责任！如有侵权，请告知我们立即删除。
--------------------------------------------------------

扫码回复 “**进群**” 加入交流群

![](https://mmbiz.qpic.cn/mmbiz_png/1mtwZURvGTmXTwUcLE5zfmefWOfnPZicZUpYia54Cbw5kKoQe0uNiafS2HFPCYLib55NVxbd5I6efk6BmoRsa54ribQ/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1)

往期精彩

回复 “burp”“awvs”“nessus”“ladon”"Forfity" 等可以获取工具。
------------------------------------------------

[【安全基础】信息收集看这一篇就够了](http://mp.weixin.qq.com/s?__biz=MzkwODM3NjIxOQ==&mid=2247491085&idx=1&sn=f51878a8d063459aaef45faaf0791d4b&chksm=c0cbbff9f7bc36ef17aed71760e8de01416832aafd7e4685ae931bc6eac6ce94f03af7ebe3a8&scene=21#wechat_redirect)  

[快速攻击全自动化工具 JuD](http://mp.weixin.qq.com/s?__biz=MzkwODM3NjIxOQ==&mid=2247490974&idx=1&sn=f0e36fcc93357677c4d303b38046d274&chksm=c0cbbc6af7bc357c08e75277b54fa6d5762b6857382e4aa36ae09cdd51e1efd93671e064e83e&scene=21#wechat_redirect)  

[Exp-Tools 1.1.3 版本发布](http://mp.weixin.qq.com/s?__biz=MzkwODM3NjIxOQ==&mid=2247490540&idx=1&sn=d093f9fdd70016144c7ecc2a0e398998&chksm=c0cbba18f7bc330eb3c851bf16d4179dc19a0dbc4b618e57a1aa904fdd54fcb4f34147e745c3&scene=21#wechat_redirect)

[GUI-tools 渗透测试工具箱框架](http://mp.weixin.qq.com/s?__biz=MzkwODM3NjIxOQ==&mid=2247489383&idx=1&sn=a4b39df6b12427d4ca71210d641e56f8&chksm=c0cbb693f7bc3f857bf67199adda6cb41a69ea83b156df3d405e2c4cc005a17e569e9fc6a7ff&scene=21#wechat_redirect)  

[阿波罗自动化攻击评估系统](http://mp.weixin.qq.com/s?__biz=MzkwODM3NjIxOQ==&mid=2247488991&idx=1&sn=a700576606b86929e1397c6421467422&chksm=c0cbb42bf7bc3d3d32b642c6e12bab9e05ca509cbb09653abab9bee42e17f075f86fb6b8970f&scene=21#wechat_redirect)

 [微软 Word RCE 附 PoC](http://mp.weixin.qq.com/s?__biz=MzkwODM3NjIxOQ==&mid=2247490056&idx=1&sn=ad97ade4235145cd4455d04c3f1e227a&chksm=c0cbbbfcf7bc32eaa8b94252c4d10811bda984fc99e5385984f939aaaff5f3911564dea07847&scene=21#wechat_redirect)  

[Clash 最新远程代码执行漏洞（附 POC）](http://mp.weixin.qq.com/s?__biz=MzkwODM3NjIxOQ==&mid=2247490056&idx=1&sn=ad97ade4235145cd4455d04c3f1e227a&chksm=c0cbbbfcf7bc32eaa8b94252c4d10811bda984fc99e5385984f939aaaff5f3911564dea07847&scene=21#wechat_redirect)

[禅道系统权限绕过与命令执行漏洞（附 POC）](http://mp.weixin.qq.com/s?__biz=MzkwODM3NjIxOQ==&mid=2247488575&idx=1&sn=6baf721c528c917bcd065d4e1214610c&chksm=c0cbb5cbf7bc3cddb477ebc085ee3eb8e8f64b254d1d2c593d855288047f80f60c2e77861361&scene=21#wechat_redirect)

[【附 EXP】CVE-2022-40684 & CVE-2022-22954](http://mp.weixin.qq.com/s?__biz=MzkwODM3NjIxOQ==&mid=2247488069&idx=1&sn=bf43063812c1a7e7184cbedf954c6b44&chksm=c0cbb3b1f7bc3aa7adbb14ba5bd4ed9cff848da257369676c735d2ec2ef7145cdbce6bbfcbda&scene=21#wechat_redirect)

[](http://mp.weixin.qq.com/s?__biz=MzkwODM3NjIxOQ==&mid=2247488069&idx=1&sn=bf43063812c1a7e7184cbedf954c6b44&chksm=c0cbb3b1f7bc3aa7adbb14ba5bd4ed9cff848da257369676c735d2ec2ef7145cdbce6bbfcbda&scene=21#wechat_redirect)[网络安全应急预案合集](http://mp.weixin.qq.com/s?__biz=MzkwODM3NjIxOQ==&mid=2247489641&idx=1&sn=f354b9eedb00295b63a8ba94d0153d0b&chksm=c0cbb99df7bc308b391cfc57b7be6c45a16196ff4d5855c9ca6ea14ac7551fbbd8ad88462c8b&scene=21#wechat_redirect)