<meta name="referrer" content="no-referrer"/>
> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/djtcjQTGUUNtC4zjX02xGA)

![](https://mmbiz.qpic.cn/mmbiz_png/WJRHqUiaud0q6Ta2TXkdJGwLrf4lecIF8c7EntClIUicEwZtIzicKmWzvDY1tVvLCicWPshc3zXAfr1RaSg87uWhFg/640?wx_fmt=png)

1. 通过开发者工具 获取 m3u8 地址

![](https://mmbiz.qpic.cn/mmbiz_png/WJRHqUiaud0pwUJmEiblwfJFcGJ3DoRnAwQ4mLnX5zuRG2iaT7Z3cPKSSakogW5TkmOwKhibtOGuL97EpO9dtHRRfg/640?wx_fmt=png)

2. 因为加密了，所以是无法直接下载的 需要找到 16 位的 key

网络工具搜索 key 找到 key 地址并下载

![](https://mmbiz.qpic.cn/mmbiz_png/WJRHqUiaud0pwUJmEiblwfJFcGJ3DoRnAwZ2vT0wibbZp5wIcOS49bhJraTYLTxFDsy9ibOTvLuibhbRp6V3tsPPeFg/640?wx_fmt=png)

3. 查看 key 文件属性可以看到是 32 字节的，不是 16 字节

![](https://mmbiz.qpic.cn/mmbiz_png/WJRHqUiaud0pwUJmEiblwfJFcGJ3DoRnAwkcxKqSkrj8QK2JqNjHAJD2BEzmlsaAUr5F1GYqNPXnEhhVianwxdXtQ/640?wx_fmt=png)

4. 第三步的 32 字节 key 是加密后的，无法使用。

5. 通过 key 文件的网络请求调用栈得到请求调用来自 player.js

![](https://mmbiz.qpic.cn/mmbiz_png/WJRHqUiaud0pwUJmEiblwfJFcGJ3DoRnAwMZTyPASSQMKbcFz9FRC28JDENDH8HOXhdh6NKjfpmOTGRIOSw52rRQ/640?wx_fmt=png)

6. 进入 js 文件，通过断点调试得到 5413 行到 5424 行代码，发现只要是 KEY 文件，链接就会拼接 "playsafe/" 。这个单词我们在第三步见过，回到第三步，试着把 playsafe/ 从链接里面移除，得到

```
https://hls.videocc.net/playsafe/64901470c4/7/64901470c4dd250301cd9a9f4d88f9d7_3.key?token=cc0d205a-efd6-4c20-a2c5-963a8bcf5fc2-d12678
得到
https://hls.videocc.net//64901470c4/7/64901470c4dd250301cd9a9f4d88f9d7_3.key?token=cc0d205a-efd6-4c20-a2c5-963a8bcf5fc2-d12678
```

访问并下载修改后的 key 链接

右键查看 key 文件属性发现现在是 16 字节的

![](https://mmbiz.qpic.cn/mmbiz_png/WJRHqUiaud0pwUJmEiblwfJFcGJ3DoRnAwesxribKX4hST2ZhyUEHcPtf67pIQK5PRjC2WAMNtt6PY4lKUibWk8GQg/640?wx_fmt=png)

7. 打开 N_m3u8 下载工具，写入 m3u8 地址，把第六步下载的 key 拖入，点击 go，发现视频已经开始正常下载了

![](https://mmbiz.qpic.cn/mmbiz_png/WJRHqUiaud0pwUJmEiblwfJFcGJ3DoRnAweLvhU7fb4ayjPMeOIcUlnkqNhQel24Lh2LfjZApsdHYv1mx3htvWYA/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/WJRHqUiaud0pwUJmEiblwfJFcGJ3DoRnAwiaGota59OUDFNzAQjw0CCYicAladPFp4z01utU7YgFicEOJ6MHVTBE41w/640?wx_fmt=png)

8. 打开下载好的视频文件，是可以正常播放的

![](https://mmbiz.qpic.cn/mmbiz_png/WJRHqUiaud0pwUJmEiblwfJFcGJ3DoRnAwoWT4JcHjmic9zwS9cPfxSoxwbtq1aH9C50kfWu9uuIvvQdLJokZR2eA/640?wx_fmt=png)

本文内容来自网络，如有侵权请联系删除

![](https://mmbiz.qpic.cn/mmbiz_png/WJRHqUiaud0q6Ta2TXkdJGwLrf4lecIF8kicKuAdFm6dRmdOhhPnl9JchSVMMwuf7G2IiaWicrDT7vkFibBaEBgog3Q/640?wx_fmt=png)