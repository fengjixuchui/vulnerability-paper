<meta name="referrer" content="no-referrer"/>
> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/kMppSobJvGeReZFBE9xgUg)

![图片](https://mmbiz.qpic.cn/mmbiz_gif/tEX17DfxGIHnRfUJ73xDsvEbnDsIX1VL5wibbUIZrPVaSaNickGsT9K3uqhncBSlD9sg4NPeRAwt4y45vgCNGWcg/640?wx_fmt=gif&wxfrom=5&wx_lazy=1)

 ![](http://mmbiz.qpic.cn/mmbiz_png/tEX17DfxGIGicNW0Gv4yYytbneibXnKZtEUTPricf0syvtHMXibpvjJfQLgqmcKCtgk6mZ4OAIO1vKxB10P2PHr91w/0?wx_fmt=png) ** 小生观察室 ** 本观察室仅个人做内容存档使用！ 84篇原创内容   公众号

Passwall简介
----------

PassWall 是Lineol 基于ShadowsocksR-Plus 修改的OpenWrt 科学上网插件。

具有分流、故障转移、自动恢复的功能，搭配自带的HaProxy负载均衡极大的保证了科学上网的稳定性与安全性

### 简要概述

上一篇分享了`R2Cplus软路由写入第三方固件全过程`,还留下一个尾巴，这次把`科学上网`的插件部分也一起进行说明

PassWall 配置
-----------

### 机场节点

1.  在接入R2C plus软路由且已经正常访问互联网后，进入`R2C plus软路由`后台并选择PassWall
    
      
    

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

  

2.  如果是有`机场订阅链接`的情况下选择`节点订阅`并点击最下方的`添加`，填写对应信息并勾选前面的`启用`字样，最后选择`保存&应用`
    

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

3.  `保存&应用`完毕之后再点击上面的`手动订阅`,最后在`基本设置`中将`主开关`进行启用，并选择节点最后`保存&应用`即可
    

### 自建节点

小生观察室是自建节点，所以直接通过`节点链接`的方式添加节点，而非上面的通过`订阅链接`进行添加

1.  点击`节点列表`并选择`通过链接添加节点`，将`节点链接`粘贴到空白处并添加`添加`
    

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

添加成功后如图所示

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

2.添加完成后返回`基本设置`，在`主要`选项中勾选`主开关`，并将`TCP节点`设置为刚添加的节点，`UDP节点`设置为`与TCP节点相同`，最后选择`保存&应用`

*   小生观察室默认只有单一节点，如果有多个节点也可以根据自身情况设置`自动切换`功能
    

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

3.`保存&应用`完成之后可以看到如下效果，也可以点击`谷歌连接`测试效果，如果出现`数值`就表示正常通信

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

4.基本配置完成后，对于新手来说下面的`DNS`、`模式`、`日志`尽可能保持默认无需进行修改

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

5.  效果图
    

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

IPV6导致访问异常
----------

*   国外访问正常但国内访问速度特别慢或无法正常使用，此时需要将`WAN口`到`LAN`中IPV6的相关功能进行关闭
    

### LAN口关闭IPV6

点击`网络`--`接口`，选择`LAN`并点击修改

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

将`基本设置`中`IPv6 分配长度`修改为`已禁用`

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

将`高级管理`中的ipv6管理`取消勾选`

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

将下方的`IP6V设置`全部修改为`已禁用`

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

设置完成之后点击`保存&应用`

### WAN口关闭IPV6

`LAN`口修改完成之后对`WAN`口也进行修改

点击`高级设置`并取消`IPV6管理`

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

设置完成之后点击`保存&应用`

### 额外说明

*   有的旧版本固件中的`WAN`口有`获取IPV6地址`的选项，也需修改为`已禁用`
    

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

*   如因DNS原因出现几秒的延迟可能考虑将本地DNS地址修改为`223.5.5.5`和`8.8.8.8`
    

最后总结
----

1.  以后再也不需要各种麻烦的客户端配置及浏览器代理
    
2.  如需要给其他设备一起进行使用，只需购买一个无线路由器并设置成AP模式桥接模式
    

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)