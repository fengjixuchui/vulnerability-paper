> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/A7sOm-vDCvB6LrA5QdslDA)

Maven下载安装与配置
------------

查看本地Java版本

![图片](https://mmbiz.qpic.cn/mmbiz_png/XicduVvI3nG0xf8dtl4QaY3b7qkzD1JgwoTU1icW4NcEbdAnpKn5d17iaOqVgA3NS4z7EUsvAibZphoaCTLBia8HCvA/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1)image-20220302091404523

### 官网下载

官网下载3.8.4版本Maven

![图片](https://mmbiz.qpic.cn/mmbiz_png/XicduVvI3nG0xf8dtl4QaY3b7qkzD1Jgwv8D91e9HQnLibNZJVVrCm5U7Tmib1GX9fn1bQ38DfibQLABEvulRibQmsA/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1)image-20220302091513474

### 本地配置环境变量

记住下载到本地的Maven路径，我这里如下图所示：

![图片](https://mmbiz.qpic.cn/mmbiz_png/XicduVvI3nG0xf8dtl4QaY3b7qkzD1Jgwhicg6dDQnXC20EapdXraicFhicwaEpCWr9S7pBGgnrjI0tmAy1V9zqezg/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1)image-20220302091740204

### 配置环境变量

Mac系统需要编辑bash_profile文件，添加如下内容文件

```
export M2_HOME=下载maven绝对路径  
export PATH=$PATH:$M2_HOME/bin  

```

如下图：

![图片](https://mmbiz.qpic.cn/mmbiz_png/XicduVvI3nG0xf8dtl4QaY3b7qkzD1Jgwc80ic7JTictszvFNC9gzNIdBzmj6xlLNB7Fibzvj3GErfd1898fUhjFWA/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1)image-20220302091931540

终端执行如下命令，使配置文件生效：

```
source ~/.bash_profile  

```

### 验证

```
mvn -v  

```

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)image-20220302092446169

window同理，点击我的电脑添加环境变量就可以了。

Maven方式创建项目
-----------

### 引入依赖

第一步，pom.xml中引入如下依赖

```
<parent>  
    <groupId>org.springframework.boot</groupId>  
    <artifactId>spring-boot-starter-parent</artifactId>  
    <version>2.1.3.RELEASE</version>  
</parent>  
<dependencies>  
    <dependency>  
        <groupId>org.springframework.boot</groupId>  
        <artifactId>spring-boot-starter-web</artifactId>  
    </dependency>  
</dependencies>  

```

### 编写主启动类

第二步，创建包 `com.itheima`,然后编写主启动类，注意：

```
@SpringBootApplication   //标记该类为主程序启动类  
  

```

启动方法为：SpringApplication.run(ManualChapter01Application.class,args)

编写 controller包

代码如下

```
@RestController     //组合注解 等同于Spring中的@Controller+@ResponseBody，定义为控制层  
public class HelloController {  
    @GetMapping("/hello") //配置路由 ，GET方法访问  
    public String hello(){  
        return "hello,lxf";  
    }  
  
}  

```

### 运行

运行

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)image-20220304090934184

使用Spring Initiaizr 方式构建项目
-------------------------

使用Spring Initiaizr 方法构建项目时，**不需要自己导入依赖，不需要自己创建包和启动类**。

### 创建过程

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)image-20220304092821003

之后直接点击下一步就可以了。

新建 controller包，编写控制层Java文件，代码如下：

```
@RestController  
public class HelloController {  
    @GetMapping("/lxf")  
    public String lxf(){  
        return "hello,lxf_02";  
    }  
  
}  

```

### 错误解决

报错内容如下：

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)截屏2022-03-04 上午9.32.28

从图片可以看出，**主启动方法并没有扫描到我们写的路由配置**，这里爆404错误。**解决方法是将主启动方法文件和包在同一路径下**。保证都可以扫描到。

修改后，树形结构如下：

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)截屏2022-03-04 上午9.37.31

### 运行

成功运行

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)image-20220304093907165

单元测试
----

### 注解说明

```
@RunWith(SpringRunner.class)  // 测试启动器 并加载Springboot测试注解  
@SpringBootTest   //标记Springboot单元测试，并加载项目的applicationContext上下文环境  

```

将需要测试的类注入进来，通过**@Autowired**注解，比如，这里将Hello Controller类注入，代码如下：

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)image-20220306201052416

### 测试

然后在contextLoads()方法中调用Hello Controller类中的方法进行运行测试。相关案例代码如下：

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)image-20220306201236889

运行如下：

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)image-20220306201304767

成功！

热部署
---

### pom中添加依赖

```
<dependency>  
    <groupId>org.springframework.boot</groupId>  
    <artifactId>spring-boot-devtools</artifactId>  
</dependency>  

```

如下图

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)image-20220306201920649

### IDEA中热部署设置

在**Build project automagically**前面打勾

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)image-20220306201839197

### **修改Registry**

mac上快捷键：Command + Shift + A 在框中搜索Registry，如下图：

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)image-20220306203301862

勾选自动编译

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)image-20220306203418026

### 运行测试

现在运行项目测试

首先启动项目，运行成功！

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)image-20220306203736985

然后直接修改，不重启项目，刷新浏览器，成功更改

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)image-20220306203829676