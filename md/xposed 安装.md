<meta name="referrer" content="no-referrer"/>
> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/8yMrc5FFI8Dr3y02V_qr_g)

![](https://mmbiz.qpic.cn/mmbiz_gif/oMlX8Lll9JjvJ3EcziceE5t7PuiabT6A1VonS4gZOHM6IZUSzI1XfbbPmibXHfFibsR9ZeM7ibibd7GAz0BAiaPxPFqxA/640)

安装 xposed 框架

01

设备环境

手机：nexus5

Android 版本：6.0.1

只需要安装的兄弟可以关注 刷入 TWRP 和刷入 xposed 框架

02

TWRP 安装  

01

TWRP 介绍

Team Win Recovery Project（TWRP）是一个开放源码软件的定制 Recovery 映像，供基于安卓的设备使用。它提供了一个支持触摸屏的界面，**允许用户向第三方安装固件和备份当前的系统**。因此，经常在 root 系统时安装，虽然它并不是 root 之后才能安装。

02

TWRP 下载

**1 如何找到适配自己安卓设备的 twrp**

在以下网站，输入自己手机型号获取对应的 twrp 包

https://twrp.me/Devices/

![](https://mmbiz.qpic.cn/mmbiz_png/v6ap3LYR6wibSzR0veME4yx8iaFAB5cXCRdjKcsZu1RfWhS30ictYIbgKbXS5I0FIACNuxoSpX6Vk5E5f05PIGX4Q/640?wx_fmt=png)

选择 Normal 选项下的其中一个链接下载

![](https://mmbiz.qpic.cn/mmbiz_png/v6ap3LYR6wibSzR0veME4yx8iaFAB5cXCR5BoJUKdias5MdHQZQfzNWumfMAicK7MysKCYB3oefw2VOEI05JdstY9w/640?wx_fmt=png)

下载最新版的 twrp 包

![](https://mmbiz.qpic.cn/mmbiz_png/v6ap3LYR6wibSzR0veME4yx8iaFAB5cXCRE3GOzXOUEiaibXFpfia1tsZPPMbTQnQHcbpaJpxXY1kPh4SibgoicibGgkUA/640?wx_fmt=png)

跳转后，点击下载

![](https://mmbiz.qpic.cn/mmbiz_png/v6ap3LYR6wibSzR0veME4yx8iaFAB5cXCRNdYhjUfD6vYpicVMbsFVZNbARrD5Xibq2gdDgzWKGY7SncUZYjnUhaicA/640?wx_fmt=png)

进入 bootloader 刷机界面（也可以在关机状态下，同时按住：音量下，电源键）

`adb reboot bootloader`

03

刷入 TWRP

`fastboot flash recovery twrp-3.0.2-0-hammerhead.img`

![](https://mmbiz.qpic.cn/mmbiz_png/v6ap3LYR6wibSzR0veME4yx8iaFAB5cXCRgWXBQe20uKxhccQaQGX3OPcK83ojqIowuDBEDynO2G1XeOKJd60gcA/640?wx_fmt=png)

刷入成功后，可以在 bootloader 界面下，用音量键来选择”recovery mode” 来进入 twrp

01

Xposed 框架

01

Xposed 介绍

Xposed 框架是一款可以在不修改 APK 的情况下影响程序运行（修改系统）的框架服务，基于它可以制作出许多功能强大的模块，且在功能不冲突的情况下同时运作。 当前，Per APP Setting（为每个应用设置单独的 dpi 或修改权限）、Cydia、XPrivacy（防止隐私泄露）、对原生 Launcher 替换图标等应用或功能均基于此框架。

在 Android 渗透测试中，利用 xposed 框架可以绕过证书检测，代理检测，hook 关键加密方法等多个功能。

02

不同 Android 版本适配 Xposed 框架

官方下载地址：https://repo.xposed.info/module/de.robv.android.xposed.installer

对于 Android5.0 以上版本下载地址：

https://forum.xda-developers.com/t/official-xposed-for-lollipop-marshmallow-nougat-oreo-v90-beta3-2018-01-29.3034811/

目前 xposed 没有继续更新，如果 Android 的版本不适配，可以选择替代的 xposed 框架

### 适用于 Android 4.0 ~ Android 7.1 的 Xposed 框架

作者 rovo89 的 Xposed 的官方版本最新的版本停留在 Android 8.0/8.1 beta3 版本。

如果你的系统在 4.0 ~ 7.1（**8.0，和 8.1 也可以，但是不建议**）之间，那么你直接使用官方的框架即可，但由于在 Android 5.0 之后 Xposed 框架的安装方式变得更加简单，因此具体的安装步骤如下：

获取 Root 权限，这是前提条件，通常是使用 SuperSu（7.0 及以下低版本）和 Magmisk（8.0 以上高版本）的方式，当然也可以直接刷编译 root rom。

**卡刷 Xposed.zip 安装**：如果 Android 系统版本在 Android5.0（不包括）以下：

你需要通过 recovery 刷入 Xposed.zip 文件实现 recovery 卡刷安装 xposed 框架

然后手动安装 xposedinstaller.apk 管理程序。

**Xposedinstaller 中安装**：如果 Android 系统版本在 Android5.0（包括）以上

首先安装 Xposed installer

然后打开，给予权限，根据自动匹配的文件自动开始安装

当然你仍然可以通过 recovery 来刷入相关文件实现上面的目的，区别是一个自动一个手动

![](https://mmbiz.qpic.cn/mmbiz_png/v6ap3LYR6wibSzR0veME4yx8iaFAB5cXCRzia1gFh6c6lsIt8J2bUw3fHM5QibGEsQySbFXw2rYR4Y002epuic7DNxQ/640?wx_fmt=png)

### 适用于 Android 8-10.0 的 xposed 框架

Xposed 官方版本的框架停留在这个版本已经两年半了，之后估计也已经希望不大，因此对于类 AOSP 原生的 ROM，仍然推荐使用官方的 v90-beta3 版本，可以通过 Xposed installer 自动安装，毕竟根据我自己的使用体验来讲还算是比较稳定，但对于 MIUI 类的 ROM 仍然无法使用。  

### Virtual Xposed

当然从此时开始，我们要使用 Xposed 框架版本就脱离不了非官方版本了，最早出现的叫做 [Virtual Xposed]，(https://github.com/android-hacker/VirtualXposed/releases). 实际就是一个虚拟机其中带了 xposed，然后将要 hook 的应用也安装到虚拟机中

目前 Virtual Xposed 框架已经更新到了 0.20.2 版本，支持 Android 5.0 ~Android 10.0 系统，**优点是不需要 root 权限，缺点是必须要在 Virtual Xposed 创建 APP，并在其中使用，没有原版 Xposed 方便。**

**参考连接**：https://zhuanlan.zhihu.com/p/37248451

**下载连接**：https://github.com/android-hacker/VirtualXposed/releases

****magisk+Edxposed****

再后来又衍生出了 Edxposed 支持 Android 8.0~10.0 能够完全实现 Xposed 框架的相关功能。并且和 rove89 的官方 Xposed 一样，是不需要虚拟机直接安装在系统中的。

**magisk+Edxposed 实践**：https://blog.csdn.net/ysy950803/article/details/107118656**magisk 模块 + xposed 插件（模块）资源**：https://www.magisk.cool/magiskmokuai

**magisk 介绍**：

简单来说，它主要有两个重大功能：

①ROOT 权限获取和管理比如我们的 / system/xbin 中没有 su，我们可以通过刷入相应的模块，在系统启动初期，将 su 映射到 / system/xbin 下来获取 root

②挂载功能多样的各种扩展模块如大家所熟知的替换系统字体、指纹特效、开机动画等等。。

参考：

https://medium.com/gliker/%E5%A6%82%E4%BD%95%E6%AD%A3%E7%A1%AE%E9%A3%9F%E7%94%A8-magisk-%E7%AC%AC%E4%B8%80%E5%BC%B9-9c264598820d

https://sspai.com/post/53809

**资源准备**：

1.magisk（zip）

2.magisk manager（apk）

3.Edxposed

4.Edxposed manager APP

5.magisk 模块 - Riru-Core

#### 太极. magisk

**magisk 原理及与 xposed 的区别：**

的确，二者的工作机制都是「拦截」。Xposed 通过劫持 Android 系统的 zygote 进程来加载自定义功能，这就像是半路截杀，在应用运行之前就已经将我们需要的自定义内容强加在了系统进程当中。

Magisk 则另辟蹊径，通过挂载一个与系统文件相隔离的文件系统来加载自定义内容，为系统分区打开了一个通往平行世界的入口，所有改动在那个世界（Magisk 分区）里发生，在必要的时候却又可以被认为是（从系统分区的角度而言）没有发生过。（原文连接：https://sspai.com/post/53043）

![](https://mmbiz.qpic.cn/mmbiz_png/v6ap3LYR6wibSzR0veME4yx8iaFAB5cXCRCKfvvDpWVCrey2szUSWF0dMjz6iahaHickDlyAzY5iaRpeyq4gD7GSIVg/640?wx_fmt=png)

太极是一个能够运行 Xposed 模块的框架，模块能通过它改变系统和应用的行为。太极既能以传统的 Root / 刷机方式运作，也能免 Root/ 免刷机运行；并且它支持 Android 5.0 ~ 11。简单来说，太极就是一个 类 Xposed 框架，它能够加载 Xposed 模块、修改系统和 APP、拦截方法，执行 hook 逻辑等。

虽然太极是一个 类 Xposed 框架，但是它本身与 Xposed 没有任何关系。唯一有点关系的可能是太极能够兼容 Xposed 模块，除此之外，二者从设计思路、实现机制到运作逻辑完全不同。

与 Xposed 框架 特性区别与 rovo89 的 Xposed 相比，太极 ·Magisk 又有什么特点？

太极 ·Magisk 支持 Android 5.0 到最新的 Android 11。

太极 ·Magisk **不影响全局。可以只对特定的应用开启 Xposed 功能**，无需使用 Xposed 的 APP

运行起来就跟系统没有 Xposed 一样；完美契合某些金融 / 银行类 APP。

太极 ·Magisk 针对 APP 的模块，**无需重启即刻生效**。

太极 ·Magisk **更不易被检测**。太极的弱侵入特性不再修改 运行时，也不在全局环境中留下任何踪影；因此只要想要做到，可以轻松逃过各种代码类型的检测。

太极 Magisk 模式 (Magisk 模块)

来自作者的一些话：

太极 ·Magisk 版针对会刷机的用户，如果你不喜欢折腾，请不要刷机，直接使用普通版即可；你依然可以使用常用的 Xposed 模块。并且，太极 ·Magisk 版和普通版安装包完全一致，后续统一维护。

**我本人针对 9.0 系统做了较多的测试**，8.0 的系统仅做过简单测试。8.0 以下的系统压根没有测试；因此，如无必要，8.0 以下系统的用户无需尝试。9.0 以下系统的用户，如果能刷 Xposed，也不建议使用。

太极的免 Root 模式虽然无需解锁 Bootloader，使用起来异常方便，但是有一些**缺点**，**比如无法修改系统、必须卸载原有 APP**。因此我开发了一个 magisk 模块，这个模块可以通过 Magisk 赋予太极更强大的功能；从而突破免 Root 模式的种种限制。

当你刷入太极提供的 Magisk 模块 之后，太极 APP 会自动从 免 Root 模式切换到 Magisk 模式：太极 APP + 太极 Magisk 模块 = 太极 ·Magisk。当 太极的 magisk 模块被禁用或者卸载之后，太极会自动回到 免 Root 模式运行。

如果你需要使用 Magisk 模式，请仔细阅读 太极 · 阳使用说明。

太极 · 虚拟框架

一句话简介：免解锁, 免 Root, 就能使用 Xposed 框架一个可以免 Root 运行的类 Xposed 框架

资料：https://www.taichi-app.com/

官网：https://taichi.cool/zh/

文档：https://taichi.cool/zh/doc/

下载：https://taichi.cool/zh/download.html

模块下载：https://www.taichi-app.com/#/download/alipay

03

刷入 xposed 框架

下载 xposed

https://forum.xda-developers.com/t/official-xposed-for-lollipop-marshmallow-nougat-oreo-v90-beta3-2018-01-29.3034811/

安装 xposedinstaller_3.5.apk

`adb install XposedInstaller_3.1.5.apk`

查看自己系统

`adb shell getprop ro.product.cpu.abi`

下载 xposed 框架

http://dl-xda.xposed.info/framework/sdk23/arm/

选择最新的版本下载

![](https://mmbiz.qpic.cn/mmbiz_png/v6ap3LYR6wibSzR0veME4yx8iaFAB5cXCRhDfFQRJaX43Tggzg7C8sHibeHNHy9yawHibiaEmxfTMKjQ8SPvI6or9ibQ/640?wx_fmt=png)

将下载好的压缩包推送到 sdcard 目录，ps: 某些目录在 twrp 中找不到

`adb push xposed-v89-sdk23-arm.zip /sdcard`

![](https://mmbiz.qpic.cn/mmbiz_png/v6ap3LYR6wibSzR0veME4yx8iaFAB5cXCRgWXBQe20uKxhccQaQGX3OPcK83ojqIowuDBEDynO2G1XeOKJd60gcA/640?wx_fmt=png)

进入刷机页面

`adb reboot recovery`

选择`install`, 选中`xposed-v89-sdk23-arm.zip`，等待完成后点击`Reboot system`重启

安装结束

参考链接

https://bbs.pediy.com/thread-264160.htm