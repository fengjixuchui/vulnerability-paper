> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/9UYroDxY3T5LHNPTeA-MaQ)

proxychains for windows:

https://github.com/shunf4/proxychains-windows 这款应用可以注入应用进程强制应用走代理。

但是遗憾的是，windows 版本只能设置 SOCKS 代理，不能设置 http 代理，否则会报错。

![](https://mmbiz.qpic.cn/mmbiz_png/mVborIuoDaZttZueW5ooRxGDlfw3iaFyvFj6NSOjHae8mibnBSTVJ0QibbPsQibPPXZFK57OicPhic2qo2ibW894tJR3w/640?wx_fmt=png)

由于安全测试的时候需要将流量代理到 fidder 或者 Burpsuite 上，这两个抓包软件只支持 HTTP 代理。因此需要再加一层转换，也就是 Application->SOCKS 代理 ->（转换程序）-> HTTP 代理 ->Server。

Github 上有个开源的工具 - socks-over-https ，可以实现上图中的类似的转换功能。

https://github.com/haxii/socks-over-https

原理：在本地起 SOCKS5 代理服务，然后再链接到远程 http 代理。

![](https://mmbiz.qpic.cn/mmbiz_png/mVborIuoDaaSlzCjB37vNIx38pyMFHQY7vVNIr5O5pRJHk3zYGRWlt8v9yg4sTDqo2f4KHTgCl8RLQbBRLqPTw/640?wx_fmt=png)

在配置文件 config,json 中配置 SOCKS 地址和端口，以及 HTTP 代理地址和端口。这里的 HTTP 代理地址一般为 fidder/burp 的监听地址。

![](https://mmbiz.qpic.cn/mmbiz_png/mVborIuoDaZttZueW5ooRxGDlfw3iaFyvwL51Qiak18osXKcUI9VaAKLJswualE3qupNIjZ4icPWtQ8FfrZzcqRjQ/640?wx_fmt=png)

大功告成

![](https://mmbiz.qpic.cn/mmbiz_png/mVborIuoDaZttZueW5ooRxGDlfw3iaFyvuKRKWIib2s9MP0qWxrUxy7MbicLAyxlYXibx6UBTd0WdE19icEIStSBdvg/640?wx_fmt=png)