> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/djtcjQTGUUNtC4zjX02xGA)

![图片](https://mmbiz.qpic.cn/mmbiz_png/WJRHqUiaud0q6Ta2TXkdJGwLrf4lecIF8c7EntClIUicEwZtIzicKmWzvDY1tVvLCicWPshc3zXAfr1RaSg87uWhFg/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1)

  

1.通过开发者工具 获取m3u8地址

![图片](https://mmbiz.qpic.cn/mmbiz_png/WJRHqUiaud0pwUJmEiblwfJFcGJ3DoRnAwQ4mLnX5zuRG2iaT7Z3cPKSSakogW5TkmOwKhibtOGuL97EpO9dtHRRfg/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1)

2.因为加密了，所以是无法直接下载的 需要找到16位的key

网络工具搜索key 找到key地址并下载

![图片](https://mmbiz.qpic.cn/mmbiz_png/WJRHqUiaud0pwUJmEiblwfJFcGJ3DoRnAwZ2vT0wibbZp5wIcOS49bhJraTYLTxFDsy9ibOTvLuibhbRp6V3tsPPeFg/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1)

3.查看key文件属性可以看到是32字节的，不是16字节

![图片](https://mmbiz.qpic.cn/mmbiz_png/WJRHqUiaud0pwUJmEiblwfJFcGJ3DoRnAwkcxKqSkrj8QK2JqNjHAJD2BEzmlsaAUr5F1GYqNPXnEhhVianwxdXtQ/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1)

4.第三步的32字节key是加密后的，无法使用。

5.通过key文件的网络请求调用栈得到请求调用来自player.js

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

6.进入js文件，通过断点调试得到5413行到5424行代码，发现只要是KEY文件，链接就会拼接 "playsafe/" 。这个单词我们在第三步见过，回到第三步，试着把 playsafe/ 从链接里面移除，得到

```
`https://hls.videocc.net/playsafe/64901470c4/7/64901470c4dd250301cd9a9f4d88f9d7_3.key?token=cc0d205a-efd6-4c20-a2c5-963a8bcf5fc2-d12678``得到``https://hls.videocc.net//64901470c4/7/64901470c4dd250301cd9a9f4d88f9d7_3.key?token=cc0d205a-efd6-4c20-a2c5-963a8bcf5fc2-d12678`
```

  

访问并下载修改后的key链接

右键查看key文件属性发现现在是16字节的

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

7.打开N_m3u8下载工具，写入m3u8地址，把第六步下载的key拖入，点击go，发现视频已经开始正常下载了

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

8.打开下载好的视频文件，是可以正常播放的

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

本文内容来自网络，如有侵权请联系删除

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)