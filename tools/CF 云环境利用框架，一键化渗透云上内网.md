> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/6qilZ0LU7r7reU6atsXWFQ)

**点击蓝字**

![](https://mmbiz.qpic.cn/mmbiz_gif/4LicHRMXdTzCN26evrT4RsqTLtXuGbdV9oQBNHYEQk7MPDOkic6ARSZ7bt0ysicTvWBjg4MbSDfb28fn5PaiaqUSng/640?wx_fmt=gif)

**关注我们**

  

**_声明  
_**

本文作者：TeamsSix  
本文字数：885

阅读时长：3 分钟

附件 / 链接：点击查看原文下载

**本文属于【狼组安全社区】原创奖励计划，未经许可禁止转载**

  

由于传播、利用此文所提供的信息而造成的任何直接或者间接的后果及损失，均由使用者本人负责，狼组安全团队以及文章作者不为此承担任何责任。

狼组安全团队有对此文章的修改和解释权。如欲转载或传播此文章，必须保证此文章的完整性，包括版权声明等全部内容。未经狼组安全团队允许，不得任意修改或者增减此文章内容，不得以任何方式将其用于商业目的。

  

**_前言_**

  

当我们平时拿到云服务的访问凭证即 Access Key 时，通常的做法可能是看下对方的 OSS 对象存储、或者在实例上执行个命令，但 AK 的利用远不止这些，通过 AK 我们可以做太多太多的事情，为了方便 AK 的利用，于是有了这个工具。

CF 是一个云环境利用框架，主要用来方便红队人员在获得云服务的访问凭证的后续工作。

项目地址：github.com/teamssix/cf

下载地址：github.com/teamssix/cf/releases

代码完全开源，师傅们可以放心使用，提前祝师傅打下一个又一个点、拿下一个又一个云上管理员权限。  

截止到 2022 年 7 月 9 日，CF 已迭代到 v0.2.1 版本，目前 CF 仅支持阿里云，当前已支持如下功能：

*   一键列出目标 AK 的 OSS、ECS、RDS 服务
    
*   一键获得实例上的临时访问凭证
    
*   一键为实例反弹 Shell
    
*   一键接管控制台
    
*   一键为所有实例执行三要素，方便你懂得
    
*   一键查看当前配置的权限
    
*   ……  
    

一、

**_使用手册_**

CF 使用手册见：wiki.teamssix.com/cf

![](https://mmbiz.qpic.cn/mmbiz_png/4LicHRMXdTzA8C8ACF5iatXHU1TMww0b0SCMwQicuN2aYibFm7GhVGCkc7W0C3JEiblbFLYRxMe2HAzIiaOIuOZboAwg/640?wx_fmt=png)

二、

**_简单上手_**

![](https://mmbiz.qpic.cn/mmbiz_png/4LicHRMXdTzA8C8ACF5iatXHU1TMww0b0SLCbFVlMjysJrZvcWlEvScibRvDm3SPQxiahC7mxvOftdKqglXoFjlucw/640?wx_fmt=png)

配置 CF

```
cf configure
```

![](https://mmbiz.qpic.cn/mmbiz_png/4LicHRMXdTzA8C8ACF5iatXHU1TMww0b0Sd4OTfOKZGkAG2gbiaNSnCt4vSV6Ox1KlRUHG8nnseUWFp7UmvNpV1oA/640?wx_fmt=png)

一键列出当前访问凭证的云服务资源

```
cf ls
```

![](https://mmbiz.qpic.cn/mmbiz_png/4LicHRMXdTzA8C8ACF5iatXHU1TMww0b0SwGeTqBibLfZEfh1wU3ibAiaK3HnfwgF66xXuXibpdm7mqiaGcb9l7gbG5Yg/640?wx_fmt=png)

一键列出当前访问凭证的权限

```
cf ls permissions
```

![](https://mmbiz.qpic.cn/mmbiz_png/4LicHRMXdTzA8C8ACF5iatXHU1TMww0b0SuKZqNGsMicel2ef4ptFjhicBkQkK00rMAUBabtXD39gJibp3akbPPCibrA/640?wx_fmt=png)

一键接管控制台

```
cf console
```

![](https://mmbiz.qpic.cn/mmbiz_png/4LicHRMXdTzA8C8ACF5iatXHU1TMww0b0SRIBZQfyg7f243MHxk2ibia3aqLBBz1sPjp0fzGLhUqF6RYKic7gOeUb9A/640?wx_fmt=png)

查看 CF 为实例执行命令的操作的帮助信息

```
cf ecs exec -h
```

![](https://mmbiz.qpic.cn/mmbiz_png/4LicHRMXdTzA8C8ACF5iatXHU1TMww0b0SAgnCRTo1NPVWWGJXgC2JcLvtcJMQh1Wn5dyc4yIFnIV0wlcba6qswg/640?wx_fmt=png)

一键为所有实例执行三要素，方便你懂得

```
cf ecs exec -b
```

![](https://mmbiz.qpic.cn/mmbiz_png/4LicHRMXdTzA8C8ACF5iatXHU1TMww0b0ShMXFEpsibadOJfHenUesJphRicc9L0hukZtHkCbAOXdwK1DxwMRyF4RA/640?wx_fmt=png)

一键获取实例中的临时访问凭证数据

```
cf ecs exec -m
```

![](https://mmbiz.qpic.cn/mmbiz_png/4LicHRMXdTzA8C8ACF5iatXHU1TMww0b0Su9GtePuS6OWzumj7XicGLNEy86iaBtw4YqmItfceSIyjhYia1Wvq3Ju6A/640?wx_fmt=png)

如果感觉还不错的话，师傅记得给个 Star 呀 ~

CF 的使用方法不止以上提到的这些，其他更多用法可以参考使用文档：

wiki.teamssix.com/cf

三、

**_注意事项_**

*   本工具仅用于合法合规用途，严禁用于违法违规用途。
    
*   本工具中所涉及的风险点均属于租户责任，与云厂商无关。
    

  

**_作者_**

  

TeamsSix  

 ![](http://mmbiz.qpic.cn/mmbiz_png/lvTqB4HLwG1QbrelrbibfuibsYXh0mibqpBLk0fK2fTaXIeggv0s0RSx6llWawgT2U03mn6ibsIY0rX9AtStZjZtFw/0?wx_fmt=png) ** TeamsSix ** 我的个人博客：teamssix.com 225 篇原创内容  公众号

  

有想法一起研究的师傅可以投递简历至 admin@wgpsec.org 加入团队。

**_扫描关注公众号回复加群_**

**_和师傅们一起讨论研究~_**

  

**长**

**按**

**关**

**注**

**WgpSec 狼组安全团队**

微信号：wgpsec

Twitter：@wgpsec

![](https://mmbiz.qpic.cn/mmbiz_jpg/4LicHRMXdTzBhAsD8IU7jiccdSHt39PeyFafMeibktnt9icyS2D2fQrTSS7wdMicbrVlkqfmic6z6cCTlZVRyDicLTrqg/640?wx_fmt=jpeg)

![](https://mmbiz.qpic.cn/mmbiz_gif/gdsKIbdQtWAicUIic1QVWzsMLB46NuRg1fbH0q4M7iam8o1oibXgDBNCpwDAmS3ibvRpRIVhHEJRmiaPS5KvACNB5WgQ/640?wx_fmt=gif)