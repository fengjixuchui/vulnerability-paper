<meta name="referrer" content="no-referrer"/>
> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/V9RFYVi4d56kbYoFdgfE8g)

无回显漏洞测试辅助平台 (Spring Boot + Spring Security + Netty)，平台使用Java编写，提供DNSLOG，HTTPLOG等功能，辅助渗透测试过程中无回显漏洞及SSRF等漏洞的验证和利用。  

  

**项目地址：  
**

```
https://github.com/SPuerBRead/Bridge
```

  

**0x01 主要功能**

```
`DNSLOG``HTTPLOG``自定义DNS解析``DNS Rebinding``自定义HTTP Response(Response内容、状态码、Header)``数据查询API`
```

  

**0x02 部署方法**

**1. 手动部署**  

#### **域名解析**

假设根域名是dnslog.com，服务器IP是10.10.10.10进行以下配置

```
`配置A记录，子域名ns，解析到10.10.10.10``配置NS记录，子域名dns，解析到ns.dnslog.com``配置A记录，子域名dnslog，解析到10.10.10.10`
```

  

dnslog.dnslog.com 用于访问平台web，dns.dnslog.com 作为测试时payload中设置的域名，每个用户对应 dns.dnslog.com 下的子域名，如 1.dns.dnslog.com

  

登录平台后可以在API信息中看到对应的地址，子域名随意设置，对应上即可

  

#### **数据库配置**

#### 登录mysql执行以下命令，bridge.sql在程序的根目录下

```
source bridge.sql
```

  

#### **服务器配置**

#### 环境：Java 1.8、Maven

#### 修改resources目录下application.properties文件中的web服务端口（默认80端口）和数据库连接信息

```
mvn clean package -DskipTests
```

  

maven生成的jar包位置在target目录下，如dns_log-0.0.1-SNAPSHOT.jar

```
java -jar dns_log-0.0.1-SNAPSHOT.jar dns.dnslog.com dnslog.dnslog.com 10.10.10.10 a1b2c3d4
```

‍  

*   第一个参数指定payload设置对应的子域名
    
*   第二个参数指定访问平台对应的子域名
    
*   第三个参数服务器的IP地址
    
*   第四个参数设置注册时的注册暗号，注册需要填写该字段
    

  

### **2. Docker部署**

域名解析部分与手动部署相同，无需配置数据库和服务器

```
`git clone https://github.com/SPuerBRead/Bridge.git``cd ./Bridge`
```

  

默认的mysql密码是password，若要修改，请保持以下两项中的密码相同（可不修改）

```
`1. docker-compose.yml文件中的MYSQL_ROOT_PASSWORD项``2. 程序配置文件application.properties中的spring.datasource.password`
```

  

修改docker-compose.yml倒数第三行command的值，此处为启动命令，将对应参数替换成域名配置中的信息，如：

```
java -jar dns_log-0.0.1-SNAPSHOT.jar dns.dnslog.com dnslog.dnslog.com 10.10.10.10 a1b2c3d4
```

  

参数含义见手动部署部分。

  

配置完成后执行以下命令：

```
`docker-compose build``docker-compose up -d`
```

  

访问 dnslog.dnslog.com（实际域名根据根域名和配置而定）即可看到登录界面。

  

**0x03 部分截图**

DNSLOG  

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

HTTPLOG

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

**0x04 API接口**

apiKey在登录后的API信息页面中  

  

#### dnslog查询接口

```
http://xxx.xx/api/dnslog/search?token={apiKey}&keyword={test}
```

  

keyword参数值必须是完整除去logAdress后的部分，此处没有模糊查询，如aaaaaa.1.dnslog.com对应keyword=aaaaaa，返回数据格式样例如下：

```
`[` `{` `"ip": "localhost",` `"host": "test1.1.dns.xxxx.com",` `"time": "2019-07-30 15:25:14.0",` `"type": "A(1)"` `}``]`
```

  

#### httplog查询接口

```
http://xxx.xx/api/weblog/search?token={apiKey}&keyword={test}
```

  

keyword要求同上，返回数据格式样例如下：

```
`[` `{` `"path": "/",` `"method": "POST",` `"data": "",` `"ip": "10.10.37.75",` `"host": "test.1.dns.xxxx.com",` `"header": "{\"content-length\":\"22896\",\"postman-token\":\"9575b873-ccd9-4d5b-ba8a-c1f746e40086\",\"host\":\"test.1.dns.xxxx.com\",\"content-type\":\"text/plain\",\"connection\":\"keep-alive\",\"cache-control\":\"no-cache\",\"accept-encoding\":\"gzip, deflate\",\"user-agent\":\"PostmanRuntime/7.13.0\",\"accept\":\"*/*\"}",` `"time": "2019-07-23 17:50:10.0",` `"params": null,` `"version": "HTTP/1.1"` `}``]`
```

  

```


```


>精彩回顾<  

[干货 | 红队快速批量打点的利器](http://mp.weixin.qq.com/s?__biz=MzU3MTU3NTY2NA==&mid=2247484374&idx=1&sn=f98119b165319ea399cf3252e5976532&chksm=fcdf5fc9cba8d6df1080aa1d8e86c67bb873bcd40139293f8f63279c2df44946023ed6460cb5&scene=21#wechat_redirect)  

[【干货】最全的Tomcat漏洞复现](http://mp.weixin.qq.com/s?__biz=MzU3MTU3NTY2NA==&mid=2247484175&idx=1&sn=89771c538a529efd108d4a676c093ea7&chksm=fcdf5f10cba8d606f3c2a635b0bb94da11e8978dba2ac4ed9e4debab7a7401ecc8a0f43777b6&scene=21#wechat_redirect)

[{Vulhub漏洞复现（一）ActiveMQ}](http://mp.weixin.qq.com/s?__biz=MzU3MTU3NTY2NA==&mid=2247484055&idx=1&sn=6b71d21065a832cac662dfbd18b9ea09&chksm=fcdf5e88cba8d79ec80b97aadcbe13aef9f4857267018daed4760a582a53d46bb3d3a5f67831&scene=21#wechat_redirect)

[{Vulhub漏洞复现（二） Apereo CAS}](http://mp.weixin.qq.com/s?__biz=MzU3MTU3NTY2NA==&mid=2247484107&idx=1&sn=9467ffe0e276a521f6be0f170941f70d&chksm=fcdf5ed4cba8d7c2d72f3f30a911aa447246bd007f3b647942129d15a2298a3aa494558d4c1c&scene=21#wechat_redirect)

[Cobalt Strike免杀脚本生成器|cna脚本|bypassAV](http://mp.weixin.qq.com/s?__biz=MzU3MTU3NTY2NA==&mid=2247484070&idx=1&sn=d0b1b7bd8687c452ccfa10d11218985e&chksm=fcdf5eb9cba8d7af7059dd9d0de041c2ef5eb7b4986d59fac34f62f5e4b705c42aea4018c318&scene=21#wechat_redirect)

[xss bypass备忘单|xss绕过防火墙技巧|xss绕过WAF的方法  
](http://mp.weixin.qq.com/s?__biz=MzU3MTU3NTY2NA==&mid=2247484076&idx=1&sn=6af2e134ac579e48697f2ee6b7279a4e&chksm=fcdf5eb3cba8d7a5f545a558c13e184c82bf1bb0dd281a4d7ade4e11fa1e647ac447322fe8af&scene=21#wechat_redirect)

[【贼详细 | 附PoC工具】Apache HTTPd最新RCE漏洞复现  
](http://mp.weixin.qq.com/s?__biz=MzU3MTU3NTY2NA==&mid=2247484184&idx=1&sn=f9286573a97bd404e43622c0235aa357&chksm=fcdf5f07cba8d611dc7d8c479b47e312b95194ec5634c6fe46867719bea8de051681dd777558&scene=21#wechat_redirect)

[干货 | 横向移动与域控权限维持方法总汇](http://mp.weixin.qq.com/s?__biz=MzU3MTU3NTY2NA==&mid=2247484308&idx=1&sn=dffaf96b424952c365fd22f733f696f7&chksm=fcdf5f8bcba8d69d58ebaa0da04fbc2b4bf236df6e763d3da4addc097b559f71edfb48ae9712&scene=21#wechat_redirect)

[干货 | 免杀ShellCode加载框架](http://mp.weixin.qq.com/s?__biz=MzU3MTU3NTY2NA==&mid=2247484268&idx=1&sn=cbbcf96a16f4115a277f7b178f58fbfd&chksm=fcdf5f73cba8d6654a8da5bc3c00a6c2997263869f74e7be9316bbc6e4e527e317e999539d4b&scene=21#wechat_redirect)

[【干货】phpMyAdmin漏洞利用汇总](http://mp.weixin.qq.com/s?__biz=MzU3MTU3NTY2NA==&mid=2247484271&idx=1&sn=b07fd5a4b7a0d2430281e76c30cbb4eb&chksm=fcdf5f70cba8d6665a709a2da2bb4ea15751777d3a81818a19d52fe4b5a8306c756f0995bda5&scene=21#wechat_redirect)

[【神兵利器 | 附下载】一个用于隐藏C2的、开箱即用的Tools](http://mp.weixin.qq.com/s?__biz=MzU3MTU3NTY2NA==&mid=2247485199&idx=1&sn=43cd48cf100da8da5f7b750274219123&chksm=fcdf5b10cba8d206d9353ad5009caa882960fb3e09af61e26bc88dafa67ae71b8a7b21ba4f38&scene=21#wechat_redirect)  

[分享 | 个人渗透技巧汇总（避坑）笔记](http://mp.weixin.qq.com/s?__biz=MzU3MTU3NTY2NA==&mid=2247485185&idx=1&sn=a839927c1623655300d93d861bf6e1ad&chksm=fcdf5b1ecba8d2083c582706465f6c5c50e36dcba98853b270350d70c0bc4aa057170fda4d31&scene=21#wechat_redirect)  

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

关注我

获得更多精彩

![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

  

**坚持学习与分享！走过路过点个"**_**在看**_**"，不会错过**![图片](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

**_仅用于学习交流，不得用于非法用途_**

_**如侵权请私聊公众号删文**_

 ![](http://mmbiz.qpic.cn/mmbiz_png/vvO7f1bFAvW90ic51g3v38UXiaz7EebwicyUssn31u8nD4tONLeiavT5Q4ibhibTMF1N3ias5WpdMdXOQ7CWiaz5pWD94w/0?wx_fmt=png)                                           **                                EchoSec                           **           萌新专注于网络安全行业学习                        10篇原创内容                                                            公众号 


```

```


觉得文章不错给点个‘再看’吧


```


```