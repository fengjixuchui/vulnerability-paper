<meta name="referrer" content="no-referrer"/>
> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/-M6cfpjZWsstHoiJ0zIGUQ)

![](https://mmbiz.qpic.cn/mmbiz_jpg/aPmkR80bcV2TR5QyUKf4WBKr1qwHHkBRT0QascSxRM4heVFjLzquCIWkK0wlNpaa6tNyTSuPreLllaZ0SkibNQA/640?wx_fmt=jpeg)

        移动安全框架 (MobSF) 是一种自动化的一体化移动应用程序 (Android/iOS/Windows) 渗透测试、恶意软件分析和安全评估框架，能够执行静态和动态分析。MobSF 支持移动应用二进制文件（APK、XAPK、IPA 和 APPX）以及压缩源代码，并提供 REST API 以与您的 CI/CD 或 DevSecOps 管道无缝集成。动态分析器可帮助您执行运行时安全评估和交互式仪器测试。

工具 github：

https://github.com/MobSF/Mobile-Security-Framework-MobSF

本次使用 ubuntu 20.04 环境下进行搭建（其他系统版本坑多）

依赖环境：

```
sudo apt-get install git
sudo apt-get install python3.8
sudo apt-get install openjdk-8-jdk
sudoapt install python3-dev python3-venv python3-pip build-essential libffi-devlibssl-dev libxml2-dev libxslt1-dev libjpeg8-dev zlib1g-dev wkhtmltopdf
```

实施安装：

```
git clone https://github.com/MobSF/Mobile-Security-Framework-MobSF.git
cd Mobile-Security-Framework-MobSF
./setup.sh
```

安装完后运行：

```
./run.sh
```

![](https://mmbiz.qpic.cn/mmbiz_png/aPmkR80bcV2TR5QyUKf4WBKr1qwHHkBR2gCpicu1poEAO6spuweIFTYLlRdOAHUyNfCCXTpSu1ScoiaIVrvEicGsg/640?wx_fmt=png)

访问页面 ip:8000

![](https://mmbiz.qpic.cn/mmbiz_png/aPmkR80bcV2TR5QyUKf4WBKr1qwHHkBRrj0GDFP7Qnf68teiaajHnmqDloRiagFgEST8Ze190Iy8qD5ZoD68UZlQ/640?wx_fmt=png)

上传个测试用的 app

![](https://mmbiz.qpic.cn/mmbiz_png/aPmkR80bcV2TR5QyUKf4WBKr1qwHHkBRibXQvc3CfaEXib0zYUibMWjlicYWMspT1b1v73iaxpF3wu6rKIsJWvtZGiaA/640?wx_fmt=png)

分析结果

![](https://mmbiz.qpic.cn/mmbiz_png/aPmkR80bcV2TR5QyUKf4WBKr1qwHHkBRyhzyhjB6pmp0guGqkGVfaED5azHpw8JiceLKcGrEuyNpkj4IoobMaxA/640?wx_fmt=png)

动态调试

1、首先需要准备一个安卓模拟器，这里使用的是雷电模拟器，然后需要使得 MobSF 跟安卓模拟器的网络能够想通，开启桥接模式

![](https://mmbiz.qpic.cn/mmbiz_png/aPmkR80bcV2TR5QyUKf4WBKr1qwHHkBRffsrNia7PHvFCmjEEd6dHMMHQbgTLpwNwmUxbnWfpDXjC3pFu69ekxg/640?wx_fmt=png)

2、开启远程 ADB 调试

![](https://mmbiz.qpic.cn/mmbiz_png/aPmkR80bcV2TR5QyUKf4WBKr1qwHHkBR9CrMawYCggDa8rIYZONqTWW60A5UNoFo58bcicqWriaWScRdU21prliaw/640?wx_fmt=png)

3、修改配置文件

修改 {path}/.MobSF/config.py 文件中的

ANALYZER_IDENTIFIER 参数为雷电模拟器的 adb 调试端口

![](https://mmbiz.qpic.cn/mmbiz_png/aPmkR80bcV2TR5QyUKf4WBKr1qwHHkBR3bm6egOdxNYmjN8EIpbicJQEpfZTpEBauOy6KAEj47vQxD3oygIs8Wg/640?wx_fmt=png)

4、然后重启服务端

![](https://mmbiz.qpic.cn/mmbiz_png/aPmkR80bcV2TR5QyUKf4WBKr1qwHHkBR4tuniaOtbkHic1frOLcqIzrugFrslOfR6tJcXEicufTTqRTS2p38WE6wQ/640?wx_fmt=png)

5、放问管理页面，点击 DYNAMIC ANALYZER

![](https://mmbiz.qpic.cn/mmbiz_png/aPmkR80bcV2TR5QyUKf4WBKr1qwHHkBR4V2f1C3gVialFdYcWnLXUSvPAa6ic5LTfKUUZhY3nUmibfeCVib57Xu3BA/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/aPmkR80bcV2TR5QyUKf4WBKr1qwHHkBR4ppxCibdoiaAhfIu4kibvNBoEV9ChUT71gehjyLTliaViaHn62Y94icMg8Vw/640?wx_fmt=png)

进行动态调试

![](https://mmbiz.qpic.cn/mmbiz_png/aPmkR80bcV2TR5QyUKf4WBKr1qwHHkBRRFn6F68FysXgmMazbYSRu1NOxqfHs7gPKJBc1JeCjYQXeG60WeWnBg/640?wx_fmt=png)