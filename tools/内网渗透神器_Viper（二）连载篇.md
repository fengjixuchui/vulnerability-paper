<meta name="referrer" content="no-referrer"/>
> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/NAI4u1_YgZ8KHupMuw2VSw)

昨天我们介绍了 Viper 的安装，不知道大家是否已经安装成功了呢？今天开始就来教大家如何使用这个平台。  

我们做渗透最主要的就是防止溯源追踪，而 viper 非常友好，提供了反溯源配置。

VIPER 内置一套自签名 SSL 证书, 用于实现前后端 Https 连接, 如果你的 PC 机所在网络环境存在流量监测设备, 建议替换内置的 SSL 证书, 绕过流量监测.

此处生成的证书用于 VIPER 控制台前端与后台 WEB 服务通讯的 https 加密以及 Nginx 双向认证, 与载荷 reverse_https 证书无关.

操作
--

*   **安装 Viper 并启动**
    
*   https://yourvpsip:60000 登录 Viper 确认无异常
    

*   登录 Viper 所在的服务器执行如下命令
    

cd /root/VIPER/nginxconfig    # /root/VIPER 为 viper 安装目录

chmod 755 gencert.sh

./gencert.sh                  # 按照提示运行, 牢记密码

![](https://mmbiz.qpic.cn/mmbiz_png/0JWssWBbxkIn79kbvKY2ZM2CjlWTO0a8CA60JlhibNK2dwph6uPnGib7wJia6B8z0lI9W0Q4vbnicwWXUTmtf5z8eQ/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/0JWssWBbxkIn79kbvKY2ZM2CjlWTO0a82omPGS46l0nicFRVn2p9uibAbibMnPhSTIQcEg7ZtU6IFiciazutu1TAV3Q/640?wx_fmt=png)  

*   将 `/root/VIPER/nginxconfig/client.pfx` 拷贝到本地, 双击导入证书到 PC,
    

![](https://mmbiz.qpic.cn/mmbiz_png/0JWssWBbxkIn79kbvKY2ZM2CjlWTO0a8r8Kunr8cDxFG18sIickmFGEqjoS5G6evnTKSKs2EvPzicE13gDgbib5sA/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/0JWssWBbxkIn79kbvKY2ZM2CjlWTO0a83qia0icRVLDWnEt69s6cYmIMmJwNiajtsxJKmeT8RjaLccEyl5Jiaywb7g/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/0JWssWBbxkIn79kbvKY2ZM2CjlWTO0a83WBSwRGenVLws0g0BMrYurOlmQWudfLmFgUxiaNcyefIpDTDpJCApDQ/640?wx_fmt=png)

此处输入脚本中指定的密码

![](https://mmbiz.qpic.cn/mmbiz_png/0JWssWBbxkIn79kbvKY2ZM2CjlWTO0a8L0XPjIwgE3lVkOvwERrnjwRsV1fPCPqvphu9n4aVGiagVvIo8fXlwRA/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/0JWssWBbxkIn79kbvKY2ZM2CjlWTO0a8J6W5KQqZa80Oictm3TpP7Igd6CVroGj3rTjeArArMJia2ABasZtGicAIA/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/0JWssWBbxkIn79kbvKY2ZM2CjlWTO0a8oib0FP7pysLzIOAEea6tibicXdOv5qZRLlicSJG3SKoTb8G70mUDEibDjVg/640?wx_fmt=png)

*   **重启浏览器 (必须关闭 chrome 浏览器的所有进程, 然后重新打开)**
    
*   访问 https://yourvpsip:newport 登录.
    

![](https://mmbiz.qpic.cn/mmbiz_png/0JWssWBbxkIn79kbvKY2ZM2CjlWTO0a8fGoZ5eTLAXicibsaibE1SzS1zMjh5qViaHk5rTCgjgrfffaia1ZG4Z4J0Kg/640?wx_fmt=png)

*   用户名: root  密码: 自定义密码
    

![](https://mmbiz.qpic.cn/mmbiz_png/0JWssWBbxkIn79kbvKY2ZM2CjlWTO0a8NNbD2faLVlibW0HIpLo5p172WO8sMUAf8MDBO4lbbic1sZWIhFJWiaRvA/640?wx_fmt=png)

这样你的平台只能你自己登录了，你的队友想要登录需要你提供证书给别人安装才行！

viper 上线

viper 是一个可视化的 msf，所以基本原理和 msf 差不多，使用方法类似于 CS，我们选择监听载荷新增监听

![](https://mmbiz.qpic.cn/mmbiz_png/0JWssWBbxkIn79kbvKY2ZM2CjlWTO0a8iaxFibOBLCzyIKAOlGfLCbnziaEGPppw0YAtFXSV6rsjQJ7XviaE7DIYEQ/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/0JWssWBbxkIn79kbvKY2ZM2CjlWTO0a8TVSdUYukeROAhnG8fAtoGZW0Oib6LM7Dmld0JfcZ1lezdznDXRhHEPw/640?wx_fmt=png)

选择你要生成的监听类型，配置参数，记住，不要勾选虚拟监听哦

![](https://mmbiz.qpic.cn/mmbiz_png/0JWssWBbxkIn79kbvKY2ZM2CjlWTO0a8ibshEiav8yCMKn8kUt8mZY8iaxib9446Ypr1vKNeQedy0fqJUgMlbSiay6A/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/0JWssWBbxkIn79kbvKY2ZM2CjlWTO0a8z3X4NYfEbPAlBH2AeS3Cvve79iaCNtm1iakBicibfR0vs1kBXQzZX7RZRA/640?wx_fmt=png)

别名自定义，因为在渗透中我们会创建很多监听模块，为了防止混淆我们可以自定义名称，点击下面的新增监听，我们的监听器就配置好了。

接下来生成载荷

![](https://mmbiz.qpic.cn/mmbiz_png/0JWssWBbxkIn79kbvKY2ZM2CjlWTO0a8ppckNKnd5iafBZuz0XR1SjNZPLe5ByMRqEfk89IAGGCEKIRlPtnQibFA/640?wx_fmt=png)

平台提供了几十种载荷满足我们的需要，点击自己需要的载荷类型，即可下载到本地  

![](https://mmbiz.qpic.cn/mmbiz_png/0JWssWBbxkIn79kbvKY2ZM2CjlWTO0a8XowiaibYibGBcvjLwpicbaX5Lu5lzVWrsJXia37w3RsHpzvXlialoAicTcKZQ/640?wx_fmt=png)

但是这儿的载荷不免杀，viper 也提供了简单免杀的载荷，我们点击生成载荷  

![](https://mmbiz.qpic.cn/mmbiz_png/0JWssWBbxkIn79kbvKY2ZM2CjlWTO0a8IedyGibM5gtcDDw1RAtOqrQZoEsfIs1fU7uB8DwGROPib4iatOH66XbqA/640?wx_fmt=png)

载荷，监听端口要和监听器一致，否则无法上线

![](https://mmbiz.qpic.cn/mmbiz_png/0JWssWBbxkIn79kbvKY2ZM2CjlWTO0a8urNy9f6HWbvC1v0zZZZzVREzhgywic7DvlNqoSW4SpribIdrbLPFibyYA/640?wx_fmt=png)

免杀类型提供了源码和分离，选择一个即可，作者亲测，分离免杀可以绕过金山等杀软，但是无法绕过 Windows 安全中心，而且免杀效果只有一天左右，一天以后，杀软还是能识别  

将生成的载荷发送给目标主机，运行即可上线  

![](https://mmbiz.qpic.cn/mmbiz_png/0JWssWBbxkIn79kbvKY2ZM2CjlWTO0a8GHicgXmSibeRRHricg2eo0FKqpVCJ5xKZrCSeK1mgEyzUoFEN3ucnTnUg/640?wx_fmt=png)

提供了基础功能

![](https://mmbiz.qpic.cn/mmbiz_png/0JWssWBbxkIn79kbvKY2ZM2CjlWTO0a8tNZcNYTk3DkX6GwRHjRhhZpQBel0e8rEkEU0WzpkCeoowSHhbnqBPw/640?wx_fmt=png)

基本操作大家自己去研究一下，后面的文章教大家如何用 viper 进行内网渗透！