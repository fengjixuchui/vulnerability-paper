<meta name="referrer" content="no-referrer"/>
> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/of_dikKD5_seXiCUqjfEag)

**1. 漏洞详情**

漏洞名称: 企鹅客户端远程代码执行漏洞威胁程度: 该漏洞为逻辑漏洞，利用企鹅客户端的逻辑缺陷进行攻击，被攻击方在点击消息内容 (链接) 时，不会弹窗提示，自动下载执行，在攻击者利用的层面，可降低攻击者钓鱼等攻击手段的难度。

**2. 处置建议:**

1、提示用户谨慎点击消息链接

2、升级或安装终端安全软件，用于检测落盘的文件是否异常

**漏洞类型:**0day

**厂商:** 腾讯

**产品官网链接:** https://im.qq.com/pcqq

**影响范围:**QQ Windows 版 9.7.13 及以前版本漏洞所在

**功能模块:** 文档传输下载模块漏洞攻击效果: 远程代码执行

**3. 漏洞原理**

该漏洞为逻辑漏洞，企鹅 windows 客户端的 “文件传输消息” 在经过 “回复消息” 功能处理后，该文件会变为无需任何弹窗确认，点击消息文本后即可自动下载并打开文件的处理方式。

**4. 漏洞演示**

**4.1** 新建一个文本文档，需要打开计算器的话，在文本文档里输入 calc，记事本则输入 notepad，画板输入 mspaint，然后将文本文档另存为 xxx.bat(xxx 为名称，自己起一个，比如计算器的话，可以起名为计算器. bat) 例如 1.bat，将 1.bat 发送给自己，产生一个文件传输消息在聊天窗口中。

**4.3** 在天窗口中回复该消息，发送给自己 

**4.4** 转发最后一次发送的消息给目标 - 以上内容均来源于网络

![](https://mmbiz.qpic.cn/mmbiz_jpg/Qpd4NM4sjTJWKwj2Y4oiatYLBu91gdOMPBr8lR5GDiahtwAuowibaTIeJa4NtM2xmKGTp9jTM1Ky5JTweL9GMGWPQ/640?wx_fmt=jpeg)