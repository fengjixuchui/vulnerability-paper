<meta name="referrer" content="no-referrer"/>
> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/bHvNtwEyywt7RyUIvqaRJg)

**从零基础学渗透，领取配套视频**

**#统统可白嫖#**

![](https://mmbiz.qpic.cn/mmbiz_png/CBJYPapLzSHyfzIicIMsib97kZfZEART3awLIBLCUTufSibfC1DXZotKfSvNs2Zr0MSUr7dEWIwsQiay1jwn5WXaOA/640?wx_fmt=png)

扫码找小助理白嫖渗透资料![](https://mmbiz.qpic.cn/mmbiz_png/CBJYPapLzSEEQwsVFyfJD70E9HmDELbPwumVMkXxnmgmwHklA5JxIWJlzcPao47a9cibAmp1zeZ5Hf8yEWZSFBg/640?wx_fmt=png)

**学习大佬的思路技巧**  

前言
--

在我们平时做渗透测试的时候，难免会遇到各种 WAF 的阻挡。这时一款良好的绕过 WAF 的渗透测试工具就显得很受渗透测人员欢迎，在这里我们推荐一款绕过 WAF 的实用渗透工具，希望对大家平时做渗透有所帮助。
-------------------------------------------------------------------------------------------------------

简介
--

WAFNinja 是一款用 python 写的命令行工具，它可以帮助渗透测试人员免去部分手动输入的烦恼。
----------------------------------------------------

此外，WAFNinja 强大的扩展性，在团队协作中显得非常适用。
--------------------------------

通过自动化步骤来帮助渗透测试者来绕过 WAF，而这些步骤对于绕过输入验证来说是必需的。
-------------------------------------------

该工具的编写目标是方便扩展、易于使用和在团队环境下也可使用。众多的载荷和模糊字符串是存储在本地的数据库，并且伴随着该工具一同发布出来。
-------------------------------------------------------------------

WAFNinja 支持 HTTP 连接、GET/POST 请求、可以使用 cookie 去访问那些只限于授权用户的页面。当然，必要的时候，我们还可以设置代理。
-------------------------------------------------------------------------------

下载安装
----

### 下载方式：

github 下载地址：https://github.com/khalilbijjou/WAFNinja  
  

![](https://mmbiz.qpic.cn/mmbiz_png/CBJYPapLzSH9mEkpIYN5eGtHIkKNp8rsI1KJR8nLWoF4zNdDq7PnTGgHNNib8QuG3ZxeTlw5rnVsibCYJdEEMvpQ/640?wx_fmt=png)

  
可用 git clone https://github.com/khalilbijjou/WAFNinja  

  
![](https://mmbiz.qpic.cn/mmbiz_png/CBJYPapLzSH9mEkpIYN5eGtHIkKNp8rshiaxGJlkIAPxrPTFy1GsSnN413a1rjXhSdxrb2ibGhA5CIbSKENdzyYA/640?wx_fmt=png)

  
或者直接用浏览器下载并且解压到本地文件。

### 安装

直接进入该文件夹，输入如下命令：

python wafninja.py -h

如果出现正常的文档说明，该结果证明安装成功；

![](https://mmbiz.qpic.cn/mmbiz_png/CBJYPapLzSH9mEkpIYN5eGtHIkKNp8rsTcRp6zHfKju6CNOQSOaBIkQ4Gyicm1BVy1beCk1j8SPrBHrnhpGfO6A/640?wx_fmt=png)  

如果出现类似 “ ImportError: No module named progressbar ”，请自行安装相关的包。

![](https://mmbiz.qpic.cn/mmbiz_png/CBJYPapLzSH9mEkpIYN5eGtHIkKNp8rsQzR4p0NL8o9r4eeXOsr9yORSC8CqTia67Ha8812mSABaFiad4lEPqtIA/640?wx_fmt=png)

例如本处的解决方式为：root@kali:~/#pip install processbar （ 或者在终端输入：easy_install processbar）

![](https://mmbiz.qpic.cn/mmbiz_png/CBJYPapLzSH9mEkpIYN5eGtHIkKNp8rsdDkFE0po327PhoOmCvHBysdvohVo5wJBfUogGLph8NqTyVPJpCe6iaw/640?wx_fmt=png)

使用
--

### 查看帮助信息

python wafninja.py -h

![](https://mmbiz.qpic.cn/mmbiz_png/CBJYPapLzSH9mEkpIYN5eGtHIkKNp8rsoGiblXzYa8NGv1eaIcCyjxeI6bcuOX4ia4VcSsgejmlaQzzz1YmhCbHA/640?wx_fmt=png)  
python wafninja.py fuzz -h # 我们可以把 fuzz 换成 bypass,insert-fuzz,insert-bypass,set-db 这几个关键词，便可以查看相对应的帮助信息。

  
**Fuzz 是什么？**

Generally speaking fuzz is a brute force method which used to break software，就是用大量的测试用例一个一个试，尽可能多的找出有可能出问题的地方。

bypass 就是绕过。

![](https://mmbiz.qpic.cn/mmbiz_png/CBJYPapLzSH9mEkpIYN5eGtHIkKNp8rsicn1YHHibnTbT5jVsONHwxCx6qCHVgT97GPm3WLPU9wlLL1KB4rnmaNA/640?wx_fmt=png)

![](https://mmbiz.qpic.cn/mmbiz_png/CBJYPapLzSH9mEkpIYN5eGtHIkKNp8rsAMNQuVbrIKPqFCoHwXEBH9aaEupTDRiaNVgTbnOGcqib05ctLbgNv2rA/640?wx_fmt=png)

### 使用示例

fuzz（模糊测试）:

python wafninja.py fuzz -u “http://www.target.com/index.php?id=FUZZ“-c “phpsessid=value” -t xss -o output.html

![](https://mmbiz.qpic.cn/mmbiz_png/CBJYPapLzSH9mEkpIYN5eGtHIkKNp8rsggqCUsY5P6JPriaootuqjv6OfxsB40jCxwqreGmnYu5wcCYa6wkws8g/640?wx_fmt=png)  
  

结果如下

![](https://mmbiz.qpic.cn/mmbiz_png/CBJYPapLzSH9mEkpIYN5eGtHIkKNp8rsszxHz5hRdcaxltgYzmrdxiaE4icmVut6amJ8ho0PyL3vZ8v0gLT3HTfQ/640?wx_fmt=png)  
比如  
![](https://mmbiz.qpic.cn/mmbiz_png/CBJYPapLzSH9mEkpIYN5eGtHIkKNp8rssFRDNiaLrUh9ibHYSVLB09XDN5TwgGibTkI7yC31JszyibdfjYvT9ely1Q/640?wx_fmt=png)  
  

不会被 waf 检测

![](https://mmbiz.qpic.cn/mmbiz_png/CBJYPapLzSH9mEkpIYN5eGtHIkKNp8rsQRFLqBmzcjSwGTD2up63bicSGJlZooRz1yqB8GPsMaLs6MxpPMnBibhQ/640?wx_fmt=png)  
被检测到  
![](https://mmbiz.qpic.cn/mmbiz_png/CBJYPapLzSH9mEkpIYN5eGtHIkKNp8rsy3y7p3abhBD9qlBPJ6IAUUATTmZjIgakt301RAicibzLjB7XhCzicaFFQ/640?wx_fmt=png)  
bypass（绕过 WAF）:  
python wafninja.py bypass -u “http://www.target.com/index.php“ -p “Name=PAYLOAD&Submit=Submit” -c “phpsessid=value” -t xss -o output.html  
![](https://mmbiz.qpic.cn/mmbiz_png/CBJYPapLzSH9mEkpIYN5eGtHIkKNp8rsCibiamIibicVT5tdhARibwiaQMicJpiaWuYjtjiah5BKuLg7OKLR6oMPoUL9a0Q/640?wx_fmt=png)  
![](https://mmbiz.qpic.cn/mmbiz_png/CBJYPapLzSH9mEkpIYN5eGtHIkKNp8rs6pZP1RR4AQ9qSbtO78zvoRvwTy28rW6ZaHX08s6bhermhsJrctEowQ/640?wx_fmt=png)  
![](https://mmbiz.qpic.cn/mmbiz_png/CBJYPapLzSH9mEkpIYN5eGtHIkKNp8rs9UNC2uRAZJrLFsfZocPCnLKLiaSjkFcqibbYCMsE6AHs9DU8XktwAVsA/640?wx_fmt=png)  
![](https://mmbiz.qpic.cn/mmbiz_png/CBJYPapLzSH9mEkpIYN5eGtHIkKNp8rsiaUd9rYicWz1ibu4vAbqo6BEBNceR6jqTWkRIxRYvlurHibH7krsMrO2SQ/640?wx_fmt=png)insert-fuzz（用户自定义模糊测试载荷）:  

python wafninja.py insert-fuzz -i select -e select -t sql

参数介绍
----

**其他参数：**

{fuzz,bypass,insert-fuzz,insert-bypass,set-db}

  
fuzz 检查 WAF 允许通过的符号和关键词。.

  
bypass 从数据库中发送载荷到目标。

  
insert-fuzz 添加一个模糊字符串。

  
insert-bypass 添加一个载荷到绕过列表。

  
set-db 设置另外一个数据库文件。对于别人分享的相同载荷数据库时，这个特别有用。

**可选参数：**

-h, —help 显示帮助信息并且退出。

  
-u URL 目标 URL（例如：“www.target.com/index.php?id=FUZZ”) 注意：用关键词 FUZZ 来指定模糊测试的位置。

  
-p POST PARAMETER 通过 post 参数发送模糊测试载荷 Send fuzz through post parameter

  
-c COOKIE HTTP Cookie 头部

  
-t TYPE 载荷的类型 [sql|xss]

  
-d DELAY 每个请求的等待时间。默认是 0 秒

  
-o OUTPUT FILE 保存输出到 html 文件

  
—proxy PROXY 使用代理；Use a proxy. Format: IP:PORT

  
—prefix PROXY 增加前缀；Add a prefix to every fuzz.

  
—postfix PROXY 增加 postfix；Add a postfix to every fuzz.

  
-w WAF 发送特定 WAF 的有效载荷；Send payloads of certain WAF [default=generic]

  
-e EXPECTED 目标站点的预期输出。如果输入是编码的或类似的，请使用此选项。

  
-p PATH sqlite 数据库的路径。默认位置为 “db/db.sqlite”

声明：本公众号所分享内容仅用于网安爱好者之间的技术讨论，禁止用于违法途径，**所有渗透都需获取授权**！否则需自行承担，本公众号及原作者不承担相应的后果.

@

**欢迎加我个人微信：zkaq99、**实时分享安全动态

* * *

**防丢失**

![](https://mmbiz.qpic.cn/mmbiz_jpg/CBJYPapLzSHgvVpick2qWW2vFsCx8rQbPH81BDEjjmcTWx9fqnqFGibDKvcGM2H7L313cBAGMoZ5yLEXkkVia4cAw/640?wx_fmt=jpeg)

[

爬取免费代理，拥有自己的代理池

2021-10-22

![](https://mmbiz.qpic.cn/mmbiz_jpg/CBJYPapLzSHaWlec76UcVgaVkib8uTLrZ9yNSDKjklBxYP3oCBQMUxxcf35EBIf6dibNWuDxbTb2RYUyWjKupLXw/640?wx_fmt=jpeg)

](http://mp.weixin.qq.com/s?__biz=MzI4NTcxMjQ1MA==&mid=2247538507&idx=1&sn=012e95638679390d727ad9ac76f8093a&chksm=ebea1e66dc9d977076c87f955d303509c6a5dee9f498e18669ed25463d9403d7bd7fa2935277&scene=21#wechat_redirect)

[

Burpsuite 在各场景下的抓包方法 (整理)

2021-08-11

![](https://mmbiz.qpic.cn/mmbiz_jpg/CBJYPapLzSGxyQDNlLJqgCtl0uVbspVnw7mIx6WzWt0EyBfIZ4TEg0xoVhnq0aQ1C3LAwTjqkkBBQVuGCVmbbQ/640?wx_fmt=jpeg)

](http://mp.weixin.qq.com/s?__biz=MzI4NTcxMjQ1MA==&mid=2247530928&idx=1&sn=46ce72097822348cd6d17e2941e60db6&chksm=ebea309ddc9db98bece713fa8eec5b2c9f47cdfb5921c976319c555d627dcd3ec2dc1dee58b6&scene=21#wechat_redirect)

[

【精选】SRC 快速入门 + 上分小秘籍 + 实战指南

2021-07-26

![](https://mmbiz.qpic.cn/mmbiz_jpg/CBJYPapLzSG4hnDrcfyBr4yp6gXLibsXuBFUwfZlEFxK6tMHyUPcQlkWKhoafcKcoh8X6nw6O359kfhkHDYoLmg/640?wx_fmt=jpeg)

](http://mp.weixin.qq.com/s?__biz=MzI4NTcxMjQ1MA==&mid=2247528604&idx=1&sn=5ab3a5b3eaf0c56fcdeabccadfdc6bde&chksm=ebea39b1dc9db0a71fa71d233709afdfd2e2e0483ded28cca42044eded300f1c7025bde1b37a&scene=21#wechat_redirect)

[

干货｜列了几种均能过安全狗的方法！

2021-07-01

![](https://mmbiz.qpic.cn/mmbiz_jpg/CBJYPapLzSG24NfnFAyvceedkicO9fPkUwQ9X1L8owPwAichgQibfKV9RPxFibr8ia1JmdjjyFSGlUu97qfecE9iczCQ/640?wx_fmt=jpeg)

](http://mp.weixin.qq.com/s?__biz=MzI4NTcxMjQ1MA==&mid=2247524943&idx=1&sn=98644144a3c10bb068ec0f310dcc4958&chksm=ebea2b62dc9da2749321fce7ab28788ced08a2b496e0a45b06a5887b5aa457e48f7a66110301&scene=21#wechat_redirect)

[

巧用 FOFA 挖到你的第一个漏洞

2021-06-08

![](https://mmbiz.qpic.cn/mmbiz_jpg/CBJYPapLzSEJumG6X6C1M75AVwnphgU4wO2tIdSFib6hV6m4GLica2XGIEP1ujeNm1WVia1S6wFOV4RBB13FoxXIw/640?wx_fmt=jpeg)

](http://mp.weixin.qq.com/s?__biz=MzI4NTcxMjQ1MA==&mid=2247521952&idx=1&sn=55ab0613e5a7ba79b78849b4d91451f6&chksm=ebeadf8ddc9d569bcc64e99414dcbe6878a0b2c9f5c057b30c4bbe465ba76fcaa64e66caa0c2&scene=21#wechat_redirect)

[

一名大学生的黑客成长史到入狱的自述

2020-12-22

![](https://mmbiz.qpic.cn/mmbiz_jpg/CBJYPapLzSGzeY0rLibT3cqh51icktS1tKjpxm4A8ib17UC35kYoXLiak8X7Ugtu2rW2BRth3X5vKickew16jMibak2A/640?wx_fmt=jpeg)

](http://mp.weixin.qq.com/s?__biz=MzI4NTcxMjQ1MA==&mid=2247502926&idx=1&sn=8750295399cdcc5e71918c30bb1a974f&chksm=ebea8563dc9d0c75cdf709d2d16fdbdf82abee64516f7a44347f40056969d1b4bc3a1eb2ab2e&scene=21#wechat_redirect)

[

那些年的 Hvv 日记

2021-04-17

![](https://mmbiz.qpic.cn/mmbiz_jpg/CBJYPapLzSFRZS6XmvwR7KNeLGxuk6C4NDAawNMNvfHW7iacLEa7nYTUTCDQrfQcvRdfShEKtv7W9DWSufrYKlQ/640?wx_fmt=jpeg)

](http://mp.weixin.qq.com/s?__biz=MzI4NTcxMjQ1MA==&mid=2247515246&idx=1&sn=b1a73a93f8ce9a5d51ce3bed4ada1e56&chksm=ebeaf543dc9d7c557c36881cccaaffad5312938ad0450dc1e4050de583523c2a27ba5ab3a469&scene=21#wechat_redirect)

**看到这里了，点个 “赞”、“再看” 吧**